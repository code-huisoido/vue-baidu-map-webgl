!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VueBaiduMap=e():t.VueBaiduMap=e()}(this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=77)}([function(t,e){t.exports=function(t,e,n,i){var o,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,a=t.default);var r="function"==typeof a?a.options:a;if(e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),n&&(r._scopeId=n),i){var l=r.computed||(r.computed={});Object.keys(i).forEach(function(t){var e=i[t];l[t]=function(){return e}})}return{esModule:o,exports:a,options:r}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={control:{unload:"removeControl"},layer:{unload:"removeTileLayer"},overlay:{unload:"removeOverlay"},contextMenu:{unload:"removeContextMenu"}},o=function t(e){return e.abstract||e.$el===e.$children[0].$el?t(e.$parent):e};function a(){var t=this.unload,e=this.renderByParent,n=this.$parent;e&&n.reload(),t()}var s=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.methods={ready:function(){var t=o(this.$parent),e=this.BMap=t.BMap,n=this.map=t.map;this.load(),this.$emit("ready",{BMap:e,map:n})},transmitEvent:function(t){this.$emit(t.type.replace(/^on/,""),t)},reload:function(){var t=this;this&&this.BMap&&this.$nextTick(function(){t.unload(),t.$nextTick(t.load)})},unload:function(){var t=this.map,n=this.originInstance;try{switch(e.type){case"search":return n.clearResults();case"autoComplete":case"lushu":return n.dispose();case"markerClusterer":return n.clearMarkers();default:t[i[e.type].unload](n)}}catch(t){}}},this.computed={renderByParent:function(){return this.$parent.preventChildrenRender}},this.mounted=function(){var t=o(this.$parent),e=t.map,n=this.ready;e?n():t.$on("ready",n)},this.destroyed=a,this.beforeDestroy=a};e.default=function(t){return new s({type:t})}},function(t,e,n){"use strict";(function(t){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.lng,i=e.lat;return new t.Point(n,i)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.width,i=e.height;return new t.Size(n,i)}function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.path,a=n.opts;return new e.Symbol(t[o]||o,{anchor:a.anchor&&i(e,a.anchor),fillColor:a.fillColor,fillOpacity:a.fillOpacity,scale:a.scale,rotation:a.rotation,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight})}Object.defineProperty(e,"__esModule",{value:!0}),e.createPoint=n,e.createPixel=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.x,i=e.y;return new t.Pixel(n,i)},e.createBounds=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.sw,o=e.ne;return new t.Bounds(n(t,i),n(t,o))},e.createSize=i,e.createIcon=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.url,o=e.size,a=e.opts,s=void 0===a?{}:a;return new t.Icon(n,i(t,o),{anchor:s.anchor&&i(t,s.anchor),imageSize:s.imageSize&&i(t,s.imageSize),imageOffset:s.imageOffset&&i(t,s.imageOffset),infoWindowAnchor:s.infoWindowAnchor&&i(t,s.infoWindowAnchor),printImageUrl:s.printImageUrl})},e.createLabel=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.content,a=e.opts;return new t.Label(o,{offset:a.offset&&i(t,a.offset),position:a.position&&n(t,a.position),enableMassClear:a.enableMassClear})},e.createSymbol=o,e.createIconSequence=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.symbol,i=e.offset,a=e.repeat,s=e.fixedRotation;return new t.IconSequence(n&&o(t,n),i,a,s)}}).call(e,n(3))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=this,i=e||a.default[this.$options.name];i&&i.forEach(function(e){var i="on"===e.slice(0,2)?e.slice(2):e,o=n.$listeners[i];o&&t.addEventListener(e,o.fns)})};var i,o=n(76),a=(i=o)&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPosition=e.checkType=e.isPoint=void 0;var i=n(2),o=e.isPoint=function(t){return t.lng&&t.lat};e.checkType=function(t){return Object.prototype.toString.call(t).slice(8,-1)},e.getPosition=function(t,e){return o(e)?(0,i.createPoint)(t,e):e}},function(t,e,n){var i=n(0)(n(69),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(41),n(97),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(42),n(88),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(43),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(44),n(91),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(45),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(46),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(47),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(48),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(49),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(50),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(51),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(52),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(53),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(54),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(55),n(84),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(56),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(57),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(58),n(95),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(59),n(83),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(60),n(89),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(61),n(85),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(62),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(63),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(64),n(94),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(65),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(66),n(93),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(67),n(87),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(68),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(70),null,null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(71),n(86),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(72),n(90),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(73),n(82),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(74),n(96),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(75),n(92),null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bm-context-menu-item",props:{callback:{type:Function,default:function(){}},text:{type:String},iconUrl:{type:String},id:{type:String},disabled:{type:Boolean},seperator:{type:Boolean}},methods:{reload(){this.$parent.map&&this.$parent.load()}},watch:{text(){this.reload()},iconUrl(){this.reload()},id(){this.reload()},disabled(){this.reload()},iseperator(){this.reload()},callback(){this.reload()}},destroyed(){this.reload()},mounted(){this.reload()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i);e.default={name:"bm-context-menu",props:{width:{type:Number}},mixins:[o()("contextMenu")],methods:{load(){const{width:t,BMap:e,map:n,$parent:i}=this,o=this.parent=i.originInstance||n;this.originInstance&&o.removeContextMenu(this.originInstance);const a=this.originInstance=new e.ContextMenu;for(const i of this.$children){if(i.seperator){a.addSeparator();continue}const s=new e.MenuItem(i.text,function(t,a){i.callback({point:t,pixel:a,BMap:e,map:n,target:o})},{width:t,id:i.id,iconUrl:i.iconUrl});i.disabled?s.disable():s.enable(),i.originInstance=s,a.addItem(s)}o.addContextMenu(a)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(1),o=n.n(i),a=n(2);n.n(a);e.default={name:"bm-city-list",render(){},mixins:[o()("control")],props:{anchor:{type:String},offset:{type:Object}},watch:{anchor(){this.reload()},offset(){this.reload()}},methods:{load(){const{BMap:e,map:i,anchor:o,offset:s}=this,r=this;this.originInstance=new e.CityListControl({anchor:t[o],offset:s&&n.i(a.createSize)(e,s),onChangeBefore(){r.$emit("changeBefore")},onChangeAfter(){r.$emit("changeAfter")}}),i.addControl(this.originInstance)}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(1),o=n.n(i),a=n(2);n.n(a);e.default={name:"bm-control",mixins:[o()("control")],props:["anchor","offset"],watch:{anchor(t){this.originInstance.setAnchor(t)},offset(t){this.originInstance.setOffset(t)}},methods:{load(){const{BMap:e,map:i,anchor:o,offset:s,$el:r}=this,l=function(){this.defaultAnchor=t[o||"BMAP_ANCHOR_TOP_LEFT"],this.defaultOffset=n.i(a.createSize)(e,s)};(l.prototype=new e.Control).initialize=(t=>t.getContainer().appendChild(r)),this.originInstance=new l(o,s),i.addControl(this.originInstance)}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(1),o=n.n(i),a=n(2);n.n(a);e.default={name:"bm-copyright",render(){},mixins:[o()("control")],props:["anchor","offset","copyright"],watch:{anchor(){this.reload()},offset(){this.reload()},copyright(){this.reload()}},methods:{load(){const{BMap:e,map:i,offset:o,anchor:s,updateCopyrightList:r}=this;this.originInstance=new e.CopyrightControl({anchor:t[s],offset:o&&n.i(a.createSize)(e,o)}),r(),i.addControl(this.originInstance)},updateCopyrightList(){const{BMap:t,map:e}=this,{removeCopyright:n,getCopyrightCollection:i}=this.originInstance,o=i();o&&o.forEach(t=>{n(t.id)}),this.copyright&&this.copyright.forEach(n=>{const i=n.bounds?new t.Bounds(new t.Point(n.bounds.sw.lng,n.bounds.sw.lat),new t.Point(n.bounds.ne.lng,n.bounds.ne.lat)):e.getBounds();this.originInstance.addCopyright({id:n.id,content:n.content,bounds:i}),this.originInstance.getCopyrightCollection()})}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(1),o=n.n(i),a=n(4),s=n.n(a),r=n(2);n.n(r);e.default={name:"bm-geolocation",render(){},mixins:[o()("control")],props:{anchor:{type:String},offset:{type:Object},showAddressBar:{type:Boolean},autoLocation:{type:Boolean},locationIcon:{type:Object}},watch:{anchor(){this.reload()},offset(){this.reload()},showAddressBar(){this.reload()},autoLocation(){this.reload()},locationIcon(){this.reload()}},methods:{load(){const{BMap:e,map:i,anchor:o,showAddressBar:a,autoLocation:l,locationIcon:c,offset:p}=this;this.originInstance=new e.GeolocationControl({anchor:t[o],showAddressBar:a,enableAutoLocation:l,offset:p&&n.i(r.createSize)(e,p),locationIcon:c&&n.i(r.createIcon)(e,c)}),s.a.call(this,this.originInstance),i.addControl(this.originInstance)}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(1),o=n.n(i),a=n(2);n.n(a);e.default={name:"bm-map-type",render(){},mixins:[o()("control")],props:["type","mapTypes","anchor","offset"],watch:{anchor(){this.reload()},offset(){this.reload()},type(){this.reload()},mapTypes(){this.reload()}},methods:{load(){const{BMap:e,map:i,anchor:o,offset:s,type:r}=this,l=[];this.mapTypes&&this.mapTypes.forEach(e=>l.push(t[e])),this.originInstance=new e.MapTypeControl({anchor:t[o],offset:s&&n.i(a.createSize)(e,s),type:t[r],mapTypes:l}),i.addControl(this.originInstance)}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(1),o=n.n(i),a=n(2);n.n(a);e.default={name:"bm-navigation",render(){},mixins:[o()("control")],props:{anchor:{type:String},offset:{type:Object},type:{type:String},showZoomInfo:{type:Boolean},enableGeolocation:{type:Boolean,default:!1}},watch:{anchor(){this.reload()},offset(){this.reload()},type(){this.reload()},showZoomInfo(){this.reload()}},methods:{load(){const{BMap:e,map:i,anchor:o,offset:s,type:r,showZoomInfo:l,enableGeolocation:c}=this;this.originInstance=new e.NavigationControl({anchor:t[o],offset:s&&n.i(a.createSize)(e,s),type:t[r],showZoomInfo:l,enableGeolocation:c}),i.addControl(this.originInstance)}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(2),o=(n.n(i),n(1)),a=n.n(o),s=n(4),r=n.n(s);e.default={name:"bm-overview-map",mixins:[a()("control")],render(){},props:{anchor:{type:String},offset:{type:Object},size:{type:Object},isOpen:{type:Boolean}},watch:{anchor(){this.reload()},offset(){this.reload()},size(){this.reload()},isOpen(){this.reload()}},methods:{load(){const{BMap:e,map:o,isOpen:a,size:s,offset:l,anchor:c}=this,p=[];this.mapTypes&&this.mapTypes.forEach(e=>{p.push(t[e])}),this.originInstance=new e.OverviewMapControl({anchor:t[c],offset:n.i(i.createSize)(e,l),size:n.i(i.createSize)(e,s),isOpen:a}),r.a.call(this,this.originInstance),o.addControl(this.originInstance)}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(1),o=n.n(i),a=n(2);n.n(a);e.default={name:"bm-panorama",mixins:[o()("control")],render(){},props:["anchor","offset"],watch:{anchor(){this.reload()},offset(){this.reload()}},methods:{load(){const{BMap:e,map:i,anchor:o,offset:s}=this;this.originInstance=new e.PanoramaControl({anchor:t[o],offset:s&&n.i(a.createSize)(e,s)}),i.addControl(this.originInstance)}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(1),o=n.n(i),a=n(2);n.n(a);e.default={name:"bm-scale",render(){},mixins:[o()("control")],props:{anchor:{type:String},offset:{type:Object}},watch:{anchor(){this.reload()},offset(){this.reload()}},methods:{load(){const{BMap:e,map:i,anchor:o,offset:s}=this;this.originInstance=new e.ScaleControl({anchor:t[o],offset:s&&n.i(a.createSize)(e,s)}),i.addControl(this.originInstance)}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(78),o=n.n(i),a=n(1),s=n.n(a),r=n(4),l=n.n(r),c=n(2);n.n(c);const p=["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"];e.default={name:"bml-curve-line",render(){},mixins:[s()("overlay")],props:{points:{type:Array,default:Array},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{points:{handler(t,e){this.originInstance.disableEditing(),this.reload()},deep:!0},strokeColor(t){this.originInstance.setStrokeColor(t)},strokeOpacity(t){this.originInstance.setStrokeOpacity(t)},strokeWeight(t){this.originInstance.setStrokeWeight(t)},strokeStyle(t){this.originInstance.setStrokeStyle(t)},editing(t){t?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking(t){this.reload()}},methods:{load(){const{BMap:t,map:e,points:i,strokeColor:a,strokeWeight:s,strokeOpacity:r,strokeStyle:d,editing:h,massClear:u,clicking:m}=this,g=new o.a(i.map(e=>n.i(c.createPoint)(t,e)),{strokeColor:a,strokeWeight:s,strokeOpacity:r,strokeStyle:d,enableMassClear:u,enableClicking:m});h?g.enableEditing():g.disableEditing(),this.originInstance=g,e.addOverlay(g),l.a.call(this,g,p)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i),a=n(79),s=n.n(a);e.default={name:"bml-heatmap",render(){},mixins:[o()("overlay")],props:{data:{type:Array,default:Array},max:{type:Number},radius:{type:Number},gradient:{type:Object},opacity:{type:Number}},watch:{data:{handler(){this.reload()},deep:!0},max(){this.reload()},radius(t){const{originInstance:e,opacity:n,gradient:i}=this;e.setOptions({radius:t,opacity:n,gradient:i})},gradient:{handler(t){const{originInstance:e,radius:n,opacity:i}=this;e.setOptions({radius:n,opacity:i,gradient:t})},deep:!0},opacity(t){const{originInstance:e,radius:n,gradient:i}=this;e.setOptions({radius:n,opacity:t,gradient:i})}},methods:{load(){const{map:t,data:e,max:n,radius:i,opacity:o,gradient:a}=this,r=this.originInstance=new s.a({radius:i,opacity:o,gradient:a});t.addOverlay(r),r.setDataSet({data:e,max:n})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i),a=n(2),s=(n.n(a),n(80)),r=n.n(s);e.default={name:"bm-lushu",render(t){},mixins:[o()("lushu")],props:{path:{type:Array,default:[]},landmarkPois:{type:Array,default:()=>[]},icon:{type:Object},speed:{type:Number,default:4e3},content:{type:String,default:""},autoView:{type:Boolean,default:!1},rotation:{type:Boolean,default:!1},infoWindow:{type:Boolean,default:!0},play:{type:Boolean,default:!0}},watch:{path:{handler(t){this.reload()},deep:!0},landmarkPois:{handler(t){this.reload()},deep:!0},icon:{handler(t){const{originInstance:e,content:i}=this,o=n.i(a.createIcon)(BMap,t);e._opts.icon=o,e._marker=o},deep:!0},speed(t){const{originInstance:e,content:n}=this;e._opts.speed=t},content(t){const{originInstance:e,infoWindow:n}=this;t&&n?e.showInfoWindow():e.hideInfoWindow(),e._opts.defaultContent=t,e._overlay&&e._overlay.setHtml(t)},autoView(t){const{originInstance:e,content:n}=this;e._opts.autoView=t},rotation(t){const{originInstance:e,content:n}=this;e._opts.enableRotation=t},infoWindow(t){const{originInstance:e,content:n}=this;e&&t&&n?e.showInfoWindow():e.hideInfoWindow()},play(t){const{originInstance:e}=this;t&&e?e.start():!this._isEnd&&e.pause()}},methods:{load(){const{BMap:t,map:e,path:i,landmarkPois:o,icon:s,speed:l,content:c,autoView:p,rotation:d,infoWindow:h,play:u}=this,m=this.originInstance=new r.a(e,i,{enableRotation:d,landmarkPois:o,showInfoWindow:h,defaultContent:c,icon:s&&n.i(a.createIcon)(t,s),speed:l,autoView:p,onstart:t=>{this._isEnd=!1,this.$emit("start")},onstop:t=>{this._isEnd=!0,this.$emit("stop")},onpause:t=>this.$emit("pause")});u&&i.length&&m.start(this),i.length&&(c&&h?m.showInfoWindow():m.hideInfoWindow())}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(81),o=n.n(i),a=n(2),s=(n.n(a),n(1)),r=n.n(s);e.default={name:"bml-marker-clusterer",mixins:[r()("markerClusterer")],props:{gridSize:{type:Object},maxZoom:{type:Number},minClusterSize:{type:Number},styles:{type:Array,default:()=>[]},averageCenter:{type:Boolean,default:!1}},watch:{gridSize:{handler(t){const{BMap:e,originInstance:n}=this;n.setGridSize(e,t.map)},deep:!0},maxZoom(t){const{originInstance:e}=this;e.setMaxZoom(t)},minClusterSize:{handler(t){const{BMap:e,originInstance:i}=this;i.setMinClusterSize(n.i(a.createSize)(e,t))},deep:!0},styles:{handler(t){const{BMap:e,originInstance:i}=this,o=JSON.parse(JSON.stringify(t)).map(t=>(t.size=t.size&&n.i(a.createSize)(e,t.size),t));i.setStyles(o)},deep:!0},averageCenter(t){this.reload()}},methods:{load(){const{BMap:t,map:e,gridSize:i,minClusterSize:s,maxZoom:r,styles:l,averageCenter:c}=this;this.originInstance=new o.a(e,{gridSize:i&&n.i(a.createSize)(t,i),maxZoom:r,minClusterSize:s&&n.i(a.createSize)(t,s),styles:l.map(e=>(e.size=n.i(a.createSize)(t,e.size),e)),isAverageCenter:c}),this.$nextTick(()=>{const e=this.$children.map(t=>t.originInstance).filter(e=>e instanceof t.Marker);this.originInstance.addMarkers(e)})}},beforeCreate(){this.preventChildrenRender=!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i),a=n(2);n.n(a);e.default={name:"bm-tile",render(t){},mixins:[o()("layer")],props:{transparentPng:{type:Boolean},tileUrlTemplate:{type:String},copyright:{},zIndex:{type:Number}},watch:{transparentPng(){this.reload()},tileUrlTemplate(){this.reload()},copyright(){this.reload()},zIndex(){this.reload()}},methods:{load(){const{BMap:t,map:e,transparentPng:i,tileUrlTemplate:o,copyright:s,zIndex:r}=this;this.originInstance=new t.TileLayer({transparentPng:i,tileUrlTemplate:o,copyright:s&&{id:s.id,content:s.content,bounds:s.bounds&&n.i(a.createBounds)(s.bounds)},zIndex:r}),e.addTileLayer(this.originInstance)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i);e.default={name:"bm-triffic",render(t){},mixins:[o()("layer")],props:{predictDate:{type:Object}},watch:{"pridictDate.weekday"(){this.reload()},"pridictDate.hour"(){this.reload()},pridictDate(){this.reload()}},methods:{load(){const{pridictDate:t,BMap:e,map:n}=this;this.originInstance=new e.TrafficLayer({pridictDate:t}),n.addTileLayer(this.originInstance)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(4),o=n.n(i),a=n(5);n.n(a);e.default={name:"bm-map",props:{ak:{type:String},center:{type:[Object,String]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},highResolution:{type:Boolean,default:!0},mapClick:{type:Boolean,default:!0},mapType:{type:String},dragging:{type:Boolean,default:!0},scrollWheelZoom:{type:Boolean,default:!1},doubleClickZoom:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},inertialDragging:{type:Boolean,default:!0},continuousZoom:{type:Boolean,default:!0},pinchToZoom:{type:Boolean,default:!0},autoResize:{type:Boolean,default:!0},theme:{type:Array},mapStyle:{type:Object}},watch:{center(t,e){const{map:i,zoom:o}=this;"String"===n.i(a.checkType)(t)&&t!==e&&i.centerAndZoom(t,o)},"center.lng"(t,e){const{BMapGL:n,map:i,zoom:o,center:a}=this;t!==e&&t>=-180&&t<=180&&i.centerAndZoom(new n.Point(t,a.lat),o)},"center.lat"(t,e){const{BMapGL:n,map:i,zoom:o,center:a}=this;t!==e&&t>=-74&&t<=74&&i.centerAndZoom(new n.Point(a.lng,t),o)},zoom(t,e){const{map:n}=this;t!==e&&t>=3&&t<=19&&n.setZoom(t)},minZoom(t){const{map:e}=this;e.setMinZoom(t)},maxZoom(t){const{map:e}=this;e.setMaxZoom(t)},highResolution(){this.reset()},mapClick(){this.reset()},mapType(e){const{map:n}=this;n.setMapType(t[e])},dragging(t){const{map:e}=this;t?e.enableDragging():e.disableDragging()},scrollWheelZoom(t){const{map:e}=this;t?e.enableScrollWheelZoom():e.disableScrollWheelZoom()},doubleClickZoom(t){const{map:e}=this;t?e.enableDoubleClickZoom():e.disableDoubleClickZoom()},keyboard(t){const{map:e}=this;t?e.enableKeyboard():e.disableKeyboard()},inertialDragging(t){const{map:e}=this;t?e.enableInertialDragging():e.disableInertialDragging()},continuousZoom(t){const{map:e}=this;t?e.enableContinuousZoom():e.disableContinuousZoom()},pinchToZoom(t){const{map:e}=this;t?e.enablePinchToZoom():e.disablePinchToZoom()},autoResize(t){const{map:e}=this;t?e.enableAutoResize():e.disableAutoResize()},theme(t){const{map:e}=this;e.setMapStyleV2({styleJson:t})},"mapStyle.features":{handler(t,e){const{map:n,mapStyle:i}=this,{style:o,styleJson:a}=i;n.setMapStyleV2({styleJson:a,features:t,style:o})},deep:!0},"mapStyle.style"(t,e){const{map:n,mapStyle:i}=this,{features:o,styleJson:a}=i;n.setMapStyleV2({styleJson:a,features:o,style:t})},"mapStyle.styleJson":{handler(t,e){const{map:n,mapStyle:i}=this,{features:o,style:a}=i;n.setMapStyleV2({styleJson:t,features:o,style:a})},deep:!0},mapStyle(t){const{map:e,theme:n}=this;!n&&e.setMapStyleV2(t)}},methods:{setMapOptions(){const{map:e,minZoom:n,maxZoom:i,mapType:o,dragging:a,scrollWheelZoom:s,doubleClickZoom:r,keyboard:l,inertialDragging:c,continuousZoom:p,pinchToZoom:d,autoResize:h}=this;n&&e.setMinZoom(n),i&&e.setMaxZoom(i),o&&e.setMapType(t[o]),a?e.enableDragging():e.disableDragging(),s?e.enableScrollWheelZoom():e.disableScrollWheelZoom(),r?e.enableDoubleClickZoom():e.disableDoubleClickZoom(),l?e.enableKeyboard():e.disableKeyboard(),c?e.enableInertialDragging():e.disableInertialDragging(),p?e.enableContinuousZoom():e.disableContinuousZoom(),d?e.enablePinchToZoom():e.disablePinchToZoom(),h?e.enableAutoResize():e.disableAutoResize()},init(t){if(this.map)return;let e=this.$refs.view;for(let t of this.$slots.default||[])t.componentOptions&&"bm-view"===t.componentOptions.tag&&(this.hasBmView=!0,e=t.elm);const n=new t.Map(e,{enableHighResolution:this.highResolution,enableMapClick:this.mapClick});this.map=n;const{setMapOptions:i,zoom:a,getCenterPoint:s,theme:r,mapStyle:l}=this;i(),o.a.call(this,n),n.reset(),n.centerAndZoom(s(),a),this.$emit("ready",{BMap:t,map:n})},getCenterPoint(){const{center:t,BMap:e}=this;switch(n.i(a.checkType)(t)){case"String":return t;case"Object":return new e.Point(t.lng,t.lat);default:return new e.Point}},initMap(e){this.BMap=e,t.BMap=e,this.init(e)},getMapScript(){if(t.BMapGL)return t.BMapGL._preloader?t.BMapGL._preloader:Promise.resolve(t.BMapGL);{const e=this.ak||this._BMap().ak;return t.BMapGL={},t.BMapGL._preloader=new Promise((n,i)=>{t._initBaiduMap=function(){n(t.BMapGL),t.document.body.removeChild(o),t.BMapGL._preloader=null,t._initBaiduMap=null};const o=document.createElement("script");t.document.body.appendChild(o),o.src=`https://api.map.baidu.com/api?type=webgl&v=1.0&ak=${e}&callback=_initBaiduMap`}),t.BMapGL._preloader}},reset(){const{getMapScript:t,initMap:e}=this;t().then(e)}},mounted(){this.reset()},data:()=>({hasBmView:!1})}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bm-view"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i),a=n(4),s=n.n(a);e.default={name:"bm-autocomplete",mixins:[o()()],props:{types:{type:String},location:{type:String},sugStyle:{type:Object,default:()=>({})}},watch:{types(){this.reload()},location(){this.reload()}},methods:{load(){const{BMap:t,map:e,$el:n,types:i,location:o,sugStyle:a}=this,r=n.querySelector("input");r&&(this.originInstance=new t.Autocomplete({input:r,types:i,location:o||e,onSearchComplete:t=>{const e=document.querySelectorAll(".tangram-suggestion-main");for(const t of e)for(const e in a)t.style[e]=a[e].toString();this.$emit("searchcomplete",t)}}),this.originInstance.addEventListener("onconfirm",t=>{const e=t.item.value;this.$emit("input",e.province+e.city+e.district+e.street+e.business)}),s.a.call(this,this.originInstance))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),o=n.n(i),a=n(1),s=n.n(a);e.default={mixins:[s()("abstract")],props:["name","strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","massClear","clicking"],data:()=>({paths:[]}),components:{BmPolygon:o.a},watch:{name(){this.reload()}},methods:{load(){const{BMap:t,name:e}=this;(new t.Boundary).get(e,t=>{this.paths=t.boundaries.map(t=>(t||[]).split(";").map(t=>(([t,e])=>({lng:t,lat:e}))(t.split(",").map(t=>+t))))})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i),a=n(4),s=n.n(a),r=n(2);n.n(r);e.default={name:"bm-circle",render(){},mixins:[o()("overlay")],props:{center:{},radius:{},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},fillColor:{type:String},fillOpacity:{type:Number},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{"center.lng"(t,e){const{BMap:i,originInstance:o,isEditing:a,disableEditing:s,enableEditing:l,center:c,editing:p}=this;if(!a){s();const a=t;t.toString()!==e.toString()&&a>=-180&&a<=180&&o.setCenter(n.i(r.createPoint)(i,{lng:a,lat:c.lat})),p&&l()}},"center.lat"(t,e){const{BMap:i,originInstance:o,isEditing:a,disableEditing:s,enableEditing:l,center:c,editing:p}=this;if(!a){s();const a=t;t.toString()!==e.toString()&&a>=-74&&a<=74&&o.setCenter(n.i(r.createPoint)(i,{lng:c.lng,lat:a})),p&&l()}},radius(t,e){const{originInstance:n,isEditing:i,disableEditing:o,enableEditing:a,editing:s}=this;i||(o(),n.setRadius(t),s&&a())},strokeColor(t){this.originInstance.setStrokeColor(t)},strokeOpacity(t){this.originInstance.setStrokeOpacity(t)},strokeWeight(t){this.originInstance.setStrokeWeight(t)},strokeStyle(t){this.originInstance.setStrokeStyle(t)},fillColor(t){this.originInstance.setFillColor(t)},fillOpacity(t){this.originInstance.setFillOpacity(t)},editing(t){t?this.enableEditing():this.disableEditing()},massClear(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking(t){this.reload()}},methods:{dragStartHandler(){this.isEditing=!0},dragEndHandler(){this.isEditing=!1,this.bindEditingNodeEvents()},bindEditingNodeEvents(){const{originInstance:t,editingKey:e,dragStartHandler:n,dragEndHandler:i}=this;t[e].forEach(t=>{t.addEventListener("dragstart",n),t.addEventListener("dragend",i)})},enableEditing(){const{originInstance:t,bindEditingNodeEvents:e}=this;t.enableEditing(),e()},disableEditing(){const{originInstance:t}=this;t.disableEditing()},getEditingKey(t){const e=[];t.enableEditing(),setTimeout(()=>{for(const n in t)t[n]&&2===t[n].length&&e.push(n);t.disableEditing();for(const n in t)t[n]&&0===t[n].length&&~e.indexOf(n)&&(this.editingKey=n)},0)},load(){const{BMap:t,map:e,center:i,radius:o,strokeColor:a,strokeWeight:l,strokeOpacity:c,strokeStyle:p,fillColor:d,fillOpacity:h,editing:u,massClear:m,clicking:g,enableEditing:f,disableEditing:y,getEditingKey:v,editingKey:_}=this,b=new t.Circle(n.i(r.createPoint)(t,{lng:i.lng,lat:i.lat}),o,{strokeColor:a,strokeWeight:l,strokeOpacity:c,strokeStyle:p,fillColor:d,fillOpacity:h,enableMassClear:m,enableClicking:g});this.originInstance=b,e.addOverlay(b),s.a.call(this,b),!_&&v(b),setTimeout(()=>{u?f():y()},0)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i),a=n(4),s=n.n(a),r=n(2);n.n(r);e.default={name:"bm-ground",render(){},mixins:[o()("overlay")],props:{bounds:{type:Object},opacity:{type:Number},imageURL:{type:String},displayOnMinLevel:{type:Number},displayOnMaxLevel:{type:Number}},watch:{bounds:{handler(t){const{BMap:e}=this;this.originInstance.setBounds(n.i(r.createBounds)(e,t))},deep:!0},opacity(t){this.originInstance.setOpacity(t)},imageURL(t){this.originInstance.setImageURL(t)},displayOnMinLevel(t){this.originInstance.setDisplayOnMinLevel(t)},displayOnMaxLevel(t){this.originInstance.setDisplayOnMaxLevel(t)}},methods:{load(){const{BMap:t,map:e,bounds:i,opacity:o,imageURL:a,displayOnMinLevel:l,displayOnMaxLevel:c}=this,p=new t.GroundOverlay(i&&n.i(r.createBounds)(t,i),{opacity:o,imageURL:a,displayOnMaxLevel:c,displayOnMinLevel:l});p.setImageURL(a),this.originInstance=p,s.a.call(this,p),e.addOverlay(p)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(1),o=n.n(i),a=n(4),s=n.n(a),r=n(2);n.n(r);e.default={name:"bm-info-window",mixins:[o()("overlay")],props:{show:{type:Boolean},position:{type:Object},title:{type:String},width:{type:Number},height:{type:Number},maxWidth:{type:Number},offset:{type:Object},maximize:{type:Boolean},autoPan:{type:Boolean},closeOnClick:{type:Boolean,default:!0},message:{type:String}},watch:{show(t){t?this.openInfoWindow():this.closeInfoWindow()},"position.lng"(t,e){this.reload()},"position.lat"(t,e){this.reload()},"offset.width"(t,e){this.reload()},"offset.height"(t){this.reload()},maxWidth(){this.reload()},width(t){this.originInstance.setWidth(t)},height(t){this.originInstance.setHeight(t)},title(t){this.originInstance.setTitle(t)},maximize(t){t?this.originInstance.enableMaximize():this.originInstance.disableMaximize()},autoPan(t){t?this.originInstance.enableAutoPan():this.originInstance.disableAutoPan()},closeOnClick(t){t?this.originInstance.enableCloseOnClick():this.originInstance.disableCloseOnClick()}},methods:{redraw(){this.originInstance.redraw()},load(){const{BMap:t,map:e,show:i,title:o,width:a,height:l,maxWidth:c,offset:p,autoPan:d,closeOnClick:h,message:u,maximize:m,bindObserver:g,$parent:f}=this,y=this.$el,v=new t.InfoWindow(y,{width:a,height:l,title:o,maxWidth:c,offset:n.i(r.createSize)(t,p),enableAutoPan:d,enableCloseOnClick:h,enableMessage:void 0===u,message:u});m?v.enableMaximize():v.disableMaximize(),s.a.call(this,v),this.originInstance=v,v.redraw(),[].forEach.call(y.querySelectorAll("img"),t=>{t.onload=(()=>v.redraw())}),g(),this.$container=f.originInstance&&f.originInstance.openInfoWindow?f.originInstance:e,i&&this.openInfoWindow()},bindObserver(){const e=t.MutationObserver;if(!e)return;const{$el:n,originInstance:i}=this;this.observer=new e(t=>i.redraw()),this.observer.observe(n,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},openInfoWindow(){const{BMap:t,$container:e,position:i,originInstance:o}=this;e.openInfoWindow(o,n.i(r.createPoint)(t,i))},closeInfoWindow(){this.$container.closeInfoWindow(this.originInstance)}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i),a=n(4),s=n.n(a),r=n(2);n.n(r);e.default={name:"bm-label",render(){},mixins:[o()("overlay")],props:{content:{type:String},title:{type:String},offset:{},position:{},labelStyle:{},zIndex:{type:Number,default:0},massClear:{type:Boolean,default:!0}},watch:{content(t){this.originInstance.setContent(t)},title(t){this.originInstance.setTitle(t)},"offset.width"(t,e){const{BMap:i}=this;t.toString()!==e.toString()&&this.originInstance.setOffset(n.i(r.createSize)(i,{width:t,height:this.offset.height}))},"offset.height"(t,e){const{BMap:i}=this;t.toString()!==e.toString()&&this.originInstance.setOffset(n.i(r.createSize)(i,{width:this.offset.width,height:t}))},"position.lng"(t,e){const{BMap:i}=this,o=t;t.toString()!==e.toString()&&o>=-180&&o<=180&&this.originInstance.setCenter(n.i(r.createPoint)(i,{lng:o,lat:this.center.lat}))},"position.lat"(t,e){const{BMap:i}=this,o=t;t.toString()!==e.toString()&&o>=-74&&o<=74&&this.originInstance.setCenter(n.i(r.createPoint)(i,{lng:this.center.lng,lat:o}))},labelStyle:{handler(t){this.originInstance.setStyle(t)},deep:!0},zIndex(t){this.originInstance.setZIndex(t)},massClear(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()}},methods:{load(){const{BMap:t,map:e,content:i,title:o,offset:a,position:l,labelStyle:c,zIndex:p,massClear:d,$parent:h}=this,u=new t.Label(i,{offset:n.i(r.createSize)(t,a),position:n.i(r.createPoint)(t,l),enableMassClear:d});this.originInstance=u;try{h.originInstance.setLabel(u)}catch(t){e.addOverlay(u)}o&&u.setTitle(o),c&&u.setStyle(c),p&&u.setZIndex(p),s.a.call(this,u)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(1),o=n.n(i),a=n(4),s=n.n(a),r=n(2);n.n(r);e.default={name:"bm-marker",mixins:[o()("overlay")],props:{position:{},offset:{},icon:{},massClear:{type:Boolean,default:!0},dragging:{type:Boolean,default:!1},clicking:{type:Boolean,default:!0},raiseOnDrag:{type:Boolean,default:!1},draggingCursor:{type:String},rotation:{type:Number},shadow:{type:Object},title:{type:String},label:{type:Object},animation:{type:String},top:{type:Boolean,default:!1},zIndex:{type:Number,default:0}},watch:{"position.lng"(t,e){const{BMap:i,originInstance:o,position:a,renderByParent:s,$parent:l}=this;t!==e&&t>=-180&&t<=180&&o.setPosition(n.i(r.createPoint)(i,{lng:t,lat:a.lat})),s&&l.reload()},"position.lat"(t,e){const{BMap:i,originInstance:o,position:a,renderByParent:s,$parent:l}=this;t!==e&&t>=-74&&t<=74&&o.setPosition(n.i(r.createPoint)(i,{lng:a.lng,lat:t})),s&&l.reload()},"offset.width"(t,e){const{BMap:n,originInstance:i}=this;t!==e&&i.setOffset(new n.Size(t,this.offset.height))},"offset.height"(t,e){const{BMap:n,originInstance:i}=this;t!==e&&i.setOffset(new n.Size(this.offset.width,t))},icon:{deep:!0,handler(t){const{BMap:e,originInstance:i,rotation:o}=this;i&&i.setIcon(n.i(r.createIcon)(e,t)),o&&i&&i.setRotation(o)}},massClear(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},dragging(t){t?this.originInstance.enableDragging():this.originInstance.disableDragging()},clicking(){this.reload()},raiseOnDrag(){this.reload()},draggingCursor(t){this.originInstance.setDraggingCursor(t)},rotation(t){this.originInstance.setRotation(t)},shadow(t){this.originInstance.setShadow(t)},title(t){this.originInstance.setTitle(t)},label(t){this.reload()},animation(e){this.originInstance.setAnimation(t[e])},top(t){this.originInstance.setTop(t)},zIndex(t){this.originInstance.setZIndex(t)}},methods:{load(){const{BMap:e,map:i,position:o,offset:a,icon:l,massClear:c,dragging:p,clicking:d,raiseOnDrag:h,draggingCursor:u,rotation:m,shadow:g,title:f,label:y,animation:v,top:_,renderByParent:b,$parent:x,zIndex:w}=this,M=new e.Marker(new e.Point(o.lng,o.lat),{offset:a,icon:l&&n.i(r.createIcon)(e,l),enableMassClear:c,enableDragging:p,enableClicking:d,raiseOnDrag:h,draggingCursor:u,rotation:m,shadow:g,title:f});this.originInstance=M,y&&M&&M.setLabel(n.i(r.createLabel)(e,y)),M.setTop(_),M.setZIndex(w),s.a.call(this,M),b?x.reload():i.addOverlay(M),M.setAnimation(t[v])}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i);e.default={name:"bm-overlay",mixins:[o()("overlay")],props:{pane:{type:String}},watch:{pane(){this.reload()}},methods:{load(){const{BMap:t,map:e,$el:n,pane:i}=this,o=this.$emit.bind(this);const a=new class extends t.Overlay{initialize(){o("initialize",{BMap:t,map:e,el:n,overlay:this});try{e.getPanes()[i].appendChild(n)}catch(t){}return n}draw(){o("draw",{BMap:t,map:e,el:n,overlay:this})}};this.originInstance=a,e.addOverlay(a)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(1),o=n.n(i),a=n(4),s=n.n(a),r=n(2);n.n(r);e.default={render(){},name:"bm-point-collection",mixins:[o()("overlay")],props:{points:{type:Array,default:()=>[]},shape:{type:String,default:"BMAP_POINT_SHAPE_CIRCLE"},color:{type:String},size:{type:String,default:"BMAP_POINT_SIZE_NORMAL"}},watch:{shape(e){const{originInstance:n,color:i,size:o}=this;n.setStyles({shape:t[e],color:i,size:t[o]})},size(e){const{originInstance:n,color:i,shape:o}=this;n.setStyles({shape:t[o],color:i,size:t[e]})},color(e){const{originInstance:n,shape:i,size:o}=this;n.setStyles({shape:t[i],color:e,size:t[o]})},points:{deep:!0,handler(t){const{originInstance:e}=this;e.clear(),e.setPoints(t)}}},methods:{load(){const{BMap:e,map:i,points:o,shape:a,color:l,size:c}=this,p=this.originInstance=new e.PointCollection(o.map(t=>n.i(r.createPoint)(e,t)),{shape:t[a],color:l,size:t[c]});s.a.call(this,p),i.addOverlay(p)}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i),a=n(4),s=n.n(a),r=n(2);n.n(r);e.default={name:"bm-polygon",render(){},mixins:[o()("overlay")],props:{path:{type:Array,default:()=>[]},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},fillColor:{type:String},fillOpacity:{type:Number},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{path:{handler(t,e){this.reload()},deep:!0},strokeColor(t){this.originInstance.setStrokeColor(t)},strokeOpacity(t){this.originInstance.setStrokeOpacity(t)},strokeWeight(t){this.originInstance.setStrokeWeight(t)},strokeStyle(t){this.originInstance.setStrokeStyle(t)},fillColor(t){this.originInstance.setFillColor(t)},fillOpacity(t){this.originInstance.setFillOpacity(t)},editing(t){t?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking(t){this.reload()}},methods:{load(){const{BMap:t,map:e,path:i,strokeColor:o,strokeWeight:a,strokeOpacity:l,strokeStyle:c,fillColor:p,fillOpacity:d,editing:h,massClear:u,clicking:m}=this,g=new t.Polygon(i.map(e=>n.i(r.createPoint)(t,{lng:e.lng,lat:e.lat})),{strokeColor:o,strokeWeight:a,strokeOpacity:l,strokeStyle:c,fillColor:p,fillOpacity:d,enableMassClear:u,enableClicking:m});this.originInstance=g,e.addOverlay(g),s.a.call(this,g),h?g.enableEditing():g.disableEditing()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i),a=n(4),s=n.n(a),r=n(2);n.n(r);e.default={name:"bm-polyline",render(){},mixins:[o()("overlay")],props:{path:{type:Array},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1},icons:{type:Array,default:()=>[]}},watch:{path:{handler(t,e){this.reload()},deep:!0},icons:{handler(t,e){this.reload()},deep:!0},strokeColor(t){this.originInstance.setStrokeColor(t)},strokeOpacity(t){this.originInstance.setStrokeOpacity(t)},strokeWeight(t){this.originInstance.setStrokeWeight(t)},strokeStyle(t){this.originInstance.setStrokeStyle(t)},editing(t){t?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking(t){this.reload()}},computed:{iconSequences(){const{BMap:t,icons:e}=this;return e.map(e=>n.i(r.createIconSequence)(t,e))}},methods:{load(){const{BMap:t,map:e,path:i,strokeColor:o,strokeWeight:a,strokeOpacity:l,strokeStyle:c,editing:p,massClear:d,clicking:h,iconSequences:u}=this,m=new t.Polyline(i.map(e=>n.i(r.createPoint)(t,{lng:e.lng,lat:e.lat})),{strokeColor:o,strokeWeight:a,strokeOpacity:l,strokeStyle:c,enableEditing:p,enableMassClear:d,enableClicking:h,icons:u});this.originInstance=m,e.addOverlay(m),s.a.call(this,m)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=(n.n(i),n(5)),a=(n.n(o),n(1)),s=n.n(a);e.default={name:"bm-bus",mixins:[s()("search")],props:{location:{type:[Object,String]},keyword:{type:String},panel:{type:Boolean,default:!0},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler(t){const{originInstance:e,map:n}=this;e.setLocation(t||n)},deep:!0},keyword(t){this.search(t)},panel(){this.reload()},autoViewport(t){this.reload()},selectFirstResult(t){this.reload()}},methods:{search(t){const{originInstance:e}=this;e.getBusList(t)},load(){const t=this,{location:e,selectFirstResult:a,autoViewport:s,highlightMode:r,keyword:l,search:c,BMap:p,map:d,originInstance:h}=this,u=e?n.i(o.isPoint)(e)?n.i(i.createPoint)(p,e):e:d,m=this.originInstance=new p.BusLineSearch(u,{renderOptions:{map:d,panel:this.$el,selectFirstResult:a,autoViewport:s,highlightMode:r},onGetBusListComplete(e){h&&h!==m&&h.clearResults(),t.$emit("getbuslistcomplete",e)},onGetBusLineComplete(e){h&&h!==m&&h.clearResults(),t.$emit("getbuslinecomplete",e)},onBusListHtmlSet(e){t.$emit("buslisthtmlset",e)},onBusLineHtmlSet(e){t.$emit("buslinehtmlset",e)},onMarkersSet(e){t.$emit("markersset",e)},onPolylinesSet(e){t.$emit("polylinesset",e)}});c(l)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(2),o=(n.n(i),n(5)),a=(n.n(o),n(1)),s=n.n(a);e.default={name:"bm-driving",mixins:[s()("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},startCity:{type:[String,Number]},endCity:{type:[String,Number]},waypoints:{type:Array},policy:{type:String},panel:{type:Boolean,default:!0},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler(t){const{originInstance:e,map:n}=this;e.setLocation(t||n)},deep:!0},start:{handler(t){const{originInstance:e,end:i,startCity:a,endCity:s,waypoints:r,BMap:l,getWaypoints:c}=this;e.search(n.i(o.getPosition)(l,t),n.i(o.getPosition)(l,i),{startCity:a,endCity:s,waypoints:c(r)})},deep:!0},end:{handler(t){const{originInstance:e,start:i,startCity:a,endCity:s,waypoints:r,BMap:l,getWaypoints:c}=this;e.search(n.i(o.getPosition)(l,i),n.i(o.getPosition)(l,t),{startCity:a,endCity:s,waypoints:c(r)})},deep:!0},startCity(t){const{originInstance:e,start:n,end:i,endCity:o,waypoints:a,getWaypoints:s}=this;e.search(n,i,{val:t,endCity:o,waypoints:s(a)})},endCity(t){const{originInstance:e,start:n,end:i,startCity:o,waypoints:a,getWaypoints:s}=this;e.search(n,i,{startCity:o,val:t,waypoints:s(a)})},waypoints:{handler(t){const{originInstance:e,start:n,end:i,startCity:o,endCity:a,getWaypoints:s}=this;e.search(n,i,{startCity:o,endCity:a,waypoints:s(t)})},deep:!0},panel(){this.reload()},policy(t){this.reload()},autoViewport(){this.reload()},selectFirstResult(){this.reload()},highlightMode(){this.reload()}},methods:{search(t,e,{startCity:n,endCity:i,waypoints:o}){const{originInstance:a,getWaypoints:s}=this;a.search(t,e,{startCity:n,endCity:i,waypoints:s(o)})},getWaypoints(t){const{BMap:e}=this;if(t)return t.map(t=>n.i(o.getPosition)(e,t))},load(){const e=this,{map:a,BMap:s,location:r,policy:l,selectFirstResult:c,autoViewport:p,highlightMode:d,search:h,start:u,end:m,startCity:g,endCity:f,waypoints:y,originInstance:v,getWaypoints:_}=this,b=r?n.i(o.isPoint)(r)?n.i(i.createPoint)(s,r):r:a,x=this.originInstance=new s.DrivingRoute(b,{renderOptions:{map:a,panel:this.$el,selectFirstResult:c,autoViewport:p,highlightMode:d},policy:t[l],onSearchComplete(t){v&&v!==x&&v.clearResults(),e.$emit("searchcomplete",t)},onMarkersSet(t){e.$emit("markersset",t)},onInfoHtmlSet(t){e.$emit("infohtmlset",t)},onPolylinesSet(t){e.$emit("polylinesset",t)},onResultsHtmlSet(t){e.$emit("resultshtmlset",t)}});h(n.i(o.getPosition)(s,u),n.i(o.getPosition)(s,m),{startCity:g,endCity:f,waypoints:_(y)})}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=(n.n(i),n(5)),a=(n.n(o),n(1)),s=n.n(a);e.default={name:"bm-local-search",mixins:[s()("search")],props:{location:{type:[Object,String]},keyword:{type:[Array,String]},panel:{type:Boolean,default:!0},forceLocal:{type:Boolean},customData:{type:Object},bounds:{type:Object},nearby:{type:Object},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler(t){const{originInstance:e,search:n}=this;e.setLocation(t||this.map),n()},deep:!0},keyword(){this.search()},bounds:{handler(t){const{searchInBounds:e}=this;e(t)},deep:!0},nearby:{handler(t){const{searchNearby:e}=this;e(t)},deep:!0},forceLocal(){this.reload()},customData:{deep:!0,handler(){this.reload()}},pageCapacity(t){this.originInstance&&this.originInstance.setPageCapacity(t)},autoViewport(t){this.originInstance&&(t?this.originInstance.enableAutoViewport():this.originInstance.disableAutoViewport())},selectFirstResult(t){this.originInstance&&(t?this.originInstance.enableFirstResultSelection():this.originInstance.disableFirstResultSelection())},highlightMode(){this.reload()}},methods:{searchNearby(t){const{originInstance:e,keyword:o,customData:a,BMap:s}=this;e.searchNearby(o,n.i(i.createPoint)(s,t.center),t.radius,a)},searchInBounds(t){const{originInstance:e,keyword:o,customData:a,BMap:s}=this;e.searchInBounds(o,n.i(i.createBounds)(s,t),a)},search(){const{originInstance:t,keyword:e,forceLocal:n,customData:i,nearby:o,bounds:a,searchNearby:s,searchInBounds:r}=this;o?s(o):a?r(a):t.search(e,{forceLocal:n,customData:i})},load(){const t=this,{map:e,BMap:a,search:s,pageCapacity:r,autoViewport:l,selectFirstResult:c,highlightMode:p,location:d,originInstance:h}=this,u=d?n.i(o.isPoint)(d)?n.i(i.createPoint)(a,d):d:e,m=this.originInstance=new a.LocalSearch(u,{onMarkersSet(e){t.$emit("markersset",e)},onInfoHtmlSet(e){t.$emit("infohtmlset",e)},onResultsHtmlSet(e){t.$emit("resultshtmlset",e)},onSearchComplete(e){h&&h!==m&&h.clearResults(),t.$emit("searchcomplete",e)},pageCapacity:r,renderOptions:{map:e,panel:this.$el,selectFirstResult:c,autoViewport:l,highlightMode:p}});s()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=n(2),o=(n.n(i),n(5)),a=(n.n(o),n(1)),s=n.n(a);e.default={name:"bm-transit",mixins:[s()("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},panel:{type:Boolean,default:!0},policy:{type:String},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler(t){const{originInstance:e,map:n}=this;e.setLocation(t||n)},deep:!0},start:{handler(t){const{originInstance:e,end:i,BMap:a}=this;e.search(n.i(o.getPosition)(a,t),n.i(o.getPosition)(a,i))},deep:!0},end:{handler(t){const{originInstance:e,start:i,BMap:a}=this;e.search(n.i(o.getPosition)(a,i),n.i(o.getPosition)(a,t))},deep:!0},panel(){this.reload()},policy(e){this.originInstance.setPolicy(t[e])},pageCapacity(t){this.originInstance&&this.originInstance.setPageCapacity(t)},autoViewport(t){this.originInstance&&(t?this.originInstance.enableAutoViewport():this.originInstance.disableAutoViewport())},selectFirstResult(){this.reload()},highlightMode(){this.reload()}},methods:{search(t,e){const{originInstance:n}=this;n.search(t,e)},load(){const e=this,{map:a,BMap:s,location:r,policy:l,pageCapacity:c,selectFirstResult:p,autoViewport:d,highlightMode:h,search:u,start:m,end:g,originInstance:f}=this,y=r?n.i(o.isPoint)(r)?n.i(i.createPoint)(s,r):r:a,v=this.originInstance=new s.TransitRoute(y,{renderOptions:{map:a,panel:this.$el,selectFirstResult:p,autoViewport:d,highlightMode:h},policy:t[l],pageCapacity:c,onSearchComplete(t){f&&f!==v&&f.clearResults(),e.$emit("searchcomplete",t)},onMarkersSet(t){e.$emit("markersset",t)},onInfoHtmlSet(t){e.$emit("infohtmlset",t)},onPolylinesSet(t){e.$emit("polylinesset",t)},onResultsHtmlSet(t){e.$emit("resultshtmlset",t)}});u(n.i(o.isPoint)(m)?n.i(i.createPoint)(s,m):m,n.i(o.isPoint)(g)?n.i(i.createPoint)(s,g):g)}}}}.call(e,n(3))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=(n.n(i),n(5)),a=(n.n(o),n(1)),s=n.n(a);e.default={name:"bm-walking",mixins:[s()("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},panel:{type:Boolean,default:!0},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler(t){const{originInstance:e,map:n}=this;e.setLocation(t||n)},deep:!0},start:{handler(t){const{originInstance:e,end:i,BMap:a}=this;e.search(n.i(o.getPosition)(a,t),n.i(o.getPosition)(a,i))},deep:!0},end:{handler(t){const{originInstance:e,start:i,BMap:a}=this;e.search(n.i(o.getPosition)(a,i),n.i(o.getPosition)(a,t))},deep:!0},panel(){this.reload()},autoViewport(t){this.reload()},selectFirstResult(t){this.reload()},highlightMode(){this.reload()}},methods:{search(t,e){const{originInstance:n}=this;n.search(t,e)},load(){const t=this,{map:e,BMap:a,location:s,selectFirstResult:r,autoViewport:l,highlightMode:c,search:p,start:d,end:h,originInstance:u}=this,m=s?n.i(o.isPoint)(s)?n.i(i.createPoint)(a,s):s:e,g=this.originInstance=new a.WalkingRoute(m,{renderOptions:{map:e,panel:this.$el,selectFirstResult:r,autoViewport:l,highlightMode:c},onSearchComplete(e){u&&u!==g&&u.clearResults(),t.$emit("searchcomplete",e)},onMarkersSet(e){t.$emit("markersset",e)},onInfoHtmlSet(e){t.$emit("infohtmlset",e)},onPolylinesSet(e){t.$emit("polylinesset",e)},onResultsHtmlSet(e){t.$emit("resultshtmlset",e)}});p(n.i(o.isPoint)(d)?n.i(i.createPoint)(a,d):d,n.i(o.isPoint)(h)?n.i(i.createPoint)(a,h):h)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={"bm-map":["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],"bm-geolocation":["locationSuccess","locationError"],"bm-overview-map":["viewchanged","viewchanging"],"bm-marker":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],"bm-polyline":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-polygon":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-circle":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-label":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],"bm-info-window":["close","open","maximize","restore","clickclose"],"bm-ground":["click","dblclick"],"bm-autocomplete":["onconfirm","onhighlight"],"bm-point-collection":["click","mouseover","mouseout"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BmlCurveLine=e.BmlHeatmap=e.BmlLushu=e.BmlMarkerClusterer=e.BmAutoComplete=e.BmBoundary=e.BmTraffic=e.BmTile=e.BmBus=e.BmDriving=e.BmWalking=e.BmTransit=e.BmLocalSearch=e.BmContextMenuItem=e.BmContextMenu=e.BmOverlay=e.BmInfoWindow=e.BmLabel=e.BmGround=e.BmCircle=e.BmPolygon=e.BmPolyline=e.BmPointCollection=e.BmMarker=e.BmControl=e.BmPanorama=e.BmCityList=e.BmCopyright=e.BmGeolocation=e.BmOverviewMap=e.BmMapType=e.BmNavigation=e.BmScale=e.BmView=e.BaiduMap=void 0;var i=$(n(24)),o=$(n(25)),a=$(n(17)),s=$(n(14)),r=$(n(13)),l=$(n(15)),c=$(n(12)),p=$(n(11)),d=$(n(9)),h=$(n(16)),u=$(n(10)),m=$(n(32)),g=$(n(34)),f=$(n(35)),y=$(n(6)),v=$(n(28)),_=$(n(29)),b=$(n(31)),x=$(n(30)),w=$(n(33)),M=$(n(8)),C=$(n(7)),k=$(n(38)),I=$(n(39)),S=$(n(40)),B=$(n(37)),P=$(n(36)),O=$(n(22)),E=$(n(23)),T=$(n(27)),z=$(n(26)),L=$(n(21)),j=$(n(20)),R=$(n(19)),A=$(n(18));function $(t){return t&&t.__esModule?t:{default:t}}e.default={install:function(t,e){var n=e.ak;t.prototype._BMap=function(){return{ak:n}},t.component("baidu-map",i.default),t.component("bm-view",o.default),t.component("bm-scale",a.default),t.component("bm-navigation",s.default),t.component("bm-map-type",r.default),t.component("bm-overview-map",l.default),t.component("bm-geolocation",c.default),t.component("bm-copyright",p.default),t.component("bm-city-list",d.default),t.component("bm-panorama",h.default),t.component("bm-control",u.default),t.component("bm-marker",m.default),t.component("bm-point-collection",g.default),t.component("bm-polyline",f.default),t.component("bm-polygon",y.default),t.component("bm-circle",v.default),t.component("bm-ground",_.default),t.component("bm-label",b.default),t.component("bm-info-window",x.default),t.component("bm-overlay",w.default),t.component("bm-context-menu",M.default),t.component("bm-context-menu-item",C.default),t.component("bm-local-search",k.default),t.component("bm-transit",I.default),t.component("bm-walking",S.default),t.component("bm-driving",B.default),t.component("bm-bus",P.default),t.component("bm-tile",O.default),t.component("bm-traffic",E.default),t.component("bm-auto-complete",z.default),t.component("bm-boundary",T.default)}},e.BaiduMap=i.default,e.BmView=o.default,e.BmScale=a.default,e.BmNavigation=s.default,e.BmMapType=r.default,e.BmOverviewMap=l.default,e.BmGeolocation=c.default,e.BmCopyright=p.default,e.BmCityList=d.default,e.BmPanorama=h.default,e.BmControl=u.default,e.BmMarker=m.default,e.BmPointCollection=g.default,e.BmPolyline=f.default,e.BmPolygon=y.default,e.BmCircle=v.default,e.BmGround=_.default,e.BmLabel=b.default,e.BmInfoWindow=x.default,e.BmOverlay=w.default,e.BmContextMenu=M.default,e.BmContextMenuItem=C.default,e.BmLocalSearch=k.default,e.BmTransit=I.default,e.BmWalking=S.default,e.BmDriving=B.default,e.BmBus=P.default,e.BmTile=O.default,e.BmTraffic=E.default,e.BmBoundary=T.default,e.BmAutoComplete=z.default,e.BmlMarkerClusterer=L.default,e.BmlLushu=j.default,e.BmlHeatmap=R.default,e.BmlCurveLine=A.default},function(t,e,n){var i;i=function(){function t(t){for(var n=[],i=0;i<t.length-1;i++){var o=e(t[i],t[i+1]);o&&o.length>0&&(n=n.concat(o))}return n}function e(t,e){var n=[];if(!(t&&e&&t instanceof BMap.Point&&e instanceof BMap.Point))return null;var i,o,a,s,r,l,c=function(t){return 1-2*t+t*t},p=function(t){return 2*t-2*t*t},d=function(t){return t*t},h=0,u=0;if(void 0!==e){var m=parseFloat(t.lat),g=parseFloat(e.lat),f=parseFloat(t.lng),y=parseFloat(e.lng);for(y>f&&parseFloat(y-f)>180&&f<0&&(f=parseFloat(360+f)),f>y&&parseFloat(f-y)>180&&y<0&&(y=parseFloat(360+y)),0,l=0,g==m?(i=0,o=f-y):y==f?(i=Math.PI/2,o=m-g):(i=Math.atan((g-m)/(y-f)),o=(g-m)/Math.sin(i)),0==l&&(l=i+Math.PI/5),r=(a=o/2)*Math.cos(l)+f,s=a*Math.sin(l)+m,h=0;h<31;h++)n.push(new BMap.Point(f*c(u)+r*p(u)+y*d(u),m*c(u)+s*p(u)+g*d(u))),u+=1/30;return n}void 0!==n&&(n=[])}return function(e,n){try{BMap}catch(t){throw Error("Baidu Map JS API is not ready yet!")}var i=t(e),o=new BMap.Polyline(i,n);return o.addEventListener("lineupdate",function(){this.isEditing&&this.enableEditing()}),o.cornerPoints=e,o.editMarkers=[],o.enableEditing=function(){var e=this;if(e.map){e.disableEditing();for(var n=0;n<e.cornerPoints.length;n++){var i=new BMap.Marker(e.cornerPoints[n],{icon:new BMap.Icon("http://api.map.baidu.com/library/CurveLine/1.5/src/circle.png",new BMap.Size(16,16)),enableDragging:!0,raiseOnDrag:!0});i.addEventListener("dragend",function(){e.cornerPoints.length=0;for(var n=0;n<e.editMarkers.length;n++)e.cornerPoints.push(e.editMarkers[n].getPosition());var i=t(e.cornerPoints);e.setPath(i)}),i.index=n,e.editMarkers.push(i),e.map.addOverlay(i)}}e.isEditing=!0},o.disableEditing=function(){this.isEditing=!1;for(var t=0;t<this.editMarkers.length;t++)this.map.removeOverlay(this.editMarkers[t]),this.editMarkers[t]=null;this.editMarkers.length=0},o.getPath=function(){return i},o}},t.exports=i()},function(t,e,n){var i;i=function(){var t=function(){var t=function(t){var e={data:[],heatmap:t};this.max=1,this.get=function(t){return e[t]},this.set=function(t,n){e[t]=n}};t.prototype={addDataPoint:function(t,e){if(!(t<0||e<0)){var n=this,i=n.get("heatmap"),o=n.get("data");if(o[t]||(o[t]=[]),o[t][e]||(o[t][e]=0),o[t][e]+=arguments.length<3?1:arguments[2],n.set("data",o),n.max<o[t][e])return i.get("actx").clearRect(0,0,i.get("width"),i.get("height")),void n.setDataSet({max:o[t][e],data:o},!0);i.drawAlpha(t,e,o[t][e],!0)}},setDataSet:function(t,e){var n=this.get("heatmap"),i=[],o=t.data,a=o.length;if(n.clear(),this.max=t.max,n.get("legend")&&n.get("legend").update(t.max),null!=e&&e){for(var s in o)if(void 0!==s)for(var r in o[s])void 0!==r&&n.drawAlpha(s,r,o[s][r],!1)}else for(;a--;){var l=o[a];n.drawAlpha(l.x,l.y,l.count,!1),i[l.x]||(i[l.x]=[]),i[l.x][l.y]||(i[l.x][l.y]=0),i[l.x][l.y]=l.count}n.colorize(),this.set("data",o)},exportDataSet:function(){var t=this.get("data"),e=[];for(var n in t)if(void 0!==n)for(var i in t[n])void 0!==i&&e.push({x:parseInt(n,10),y:parseInt(i,10),count:t[n][i]});return{max:this.max,data:e}},generateRandomDataSet:function(t){var e=this.get("heatmap"),n=e.get("width"),i=e.get("height"),o={},a=Math.floor(1e3*Math.random()+1);o.max=a;for(var s=[];t--;)s.push({x:Math.floor(Math.random()*n+1),y:Math.floor(Math.random()*i+1),count:Math.floor(Math.random()*a+1)});o.data=s,this.setDataSet(o)}};var e=function(t){this.config=t;var e={element:null,labelsEl:null,gradientCfg:null,ctx:null};this.get=function(t){return e[t]},this.set=function(t,n){e[t]=n},this.init()};e.prototype={init:function(){var t,e,n=this,i=n.config,o=i.title||"Legend",a=i.position,s=i.offset||10,r=(i.gradient,document.createElement("ul")),l="";n.processGradientObject(),a.indexOf("t")>-1?l+="top:"+s+"px;":l+="bottom:"+s+"px;",a.indexOf("l")>-1?l+="left:"+s+"px;":l+="right:"+s+"px;",(t=document.createElement("div")).style.cssText="border-radius:5px;position:absolute;"+l+"font-family:Helvetica; width:256px;z-index:10000000000; background:rgba(255,255,255,1);padding:10px;border:1px solid black;margin:0;",t.innerHTML="<h3 style='padding:0;margin:0;text-align:center;font-size:16px;'>"+o+"</h3>",r.style.cssText="position:relative;font-size:12px;display:block;list-style:none;list-style-type:none;margin:0;height:15px;",(e=document.createElement("div")).style.cssText=["position:relative;display:block;width:256px;height:15px;border-bottom:1px solid black; background-image:url(",n.createGradientImage(),");"].join(""),t.appendChild(r),t.appendChild(e),n.set("element",t),n.set("labelsEl",r),n.update(1)},processGradientObject:function(){var t=this.config.gradient,e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({stop:n,value:t[n]});e.sort(function(t,e){return t.stop-e.stop}),e.unshift({stop:0,value:"rgba(0,0,0,0)"}),this.set("gradientArr",e)},createGradientImage:function(){var t,e=this.get("gradientArr"),n=e.length,i=document.createElement("canvas"),o=i.getContext("2d");i.width="256",i.height="15",t=o.createLinearGradient(0,5,256,10);for(var a=0;a<n;a++)t.addColorStop(1/(n-1)*a,e[a].value);o.fillStyle=t,o.fillRect(0,5,256,10),o.strokeStyle="black",o.beginPath();for(a=0;a<n;a++)o.moveTo(.5+(1/(n-1)*a*256>>0),0),o.lineTo(.5+(1/(n-1)*a*256>>0),0==a?15:5);return o.moveTo(255.5,0),o.lineTo(255.5,15),o.moveTo(255.5,4.5),o.lineTo(0,4.5),o.stroke(),this.set("ctx",o),i.toDataURL()},getElement:function(){return this.get("element")},update:function(t){for(var e,n,i=this.get("gradientArr"),o=this.get("ctx"),a=this.get("labelsEl"),s="",r=0;r<i.length;r++)e=t*i[r].stop>>0,n=o.measureText(e).width/2>>0,0==r&&(n=0),r==i.length-1&&(n*=2),s+='<li style="position:absolute;left:'+(((1/(i.length-1)*r*256||0)>>0)-n+.5)+'px">'+e+"</li>";a.innerHTML=s}};var n=function(e){var n={radius:40,element:{},canvas:{},acanvas:{},ctx:{},actx:{},legend:null,visible:!0,width:0,height:0,max:!1,gradient:!1,opacity:180,premultiplyAlpha:!1,bounds:{l:1e3,r:0,t:1e3,b:0},debug:!1};this.store=new t(this),this.get=function(t){return n[t]},this.set=function(t,e){n[t]=e},this.configure(e),this.init()};return n.prototype={configure:function(t){var n=this;if(n.set("radius",t.radius||40),n.set("element",t.element instanceof Object?t.element:document.getElementById(t.element)),n.set("visible",null==t.visible||t.visible),n.set("max",t.max||!1),n.set("gradient",t.gradient||{.45:"rgb(0,0,255)",.55:"rgb(0,255,255)",.65:"rgb(0,255,0)",.95:"yellow",1:"rgb(255,0,0)"}),n.set("opacity",parseInt(255/(100/t.opacity),10)||180),n.set("width",t.width||0),n.set("height",t.height||0),n.set("debug",t.debug),t.legend){var i=t.legend;i.gradient=n.get("gradient"),n.set("legend",new e(i))}},resize:function(){var t=this,e=t.get("element"),n=t.get("canvas"),i=t.get("acanvas");n.width=i.width=t.get("width")||e.style.width.replace(/px/,"")||t.getWidth(e),this.set("width",n.width),n.height=i.height=t.get("height")||e.style.height.replace(/px/,"")||t.getHeight(e),this.set("height",n.height)},init:function(){var t=this,e=document.createElement("canvas"),n=document.createElement("canvas"),i=e.getContext("2d"),o=n.getContext("2d"),a=t.get("element");t.initColorPalette(),t.set("canvas",e),t.set("ctx",i),t.set("acanvas",n),t.set("actx",o),t.resize(),e.style.cssText=n.style.cssText="position:absolute;top:0;left:0;z-index:10000000;",t.get("visible")||(e.style.display="none"),a.appendChild(e),t.get("legend")&&a.appendChild(t.get("legend").getElement()),t.get("debug")&&document.body.appendChild(n),o.shadowOffsetX=15e3,o.shadowOffsetY=15e3,o.shadowBlur=15},initColorPalette:function(){var t,e,n,i=document.createElement("canvas"),o=this.get("gradient");for(var a in i.width="1",i.height="256",e=(t=i.getContext("2d")).createLinearGradient(0,0,1,256),(n=t.getImageData(0,0,1,1)).data[0]=n.data[3]=64,n.data[1]=n.data[2]=0,t.putImageData(n,0,0),n=t.getImageData(0,0,1,1),this.set("premultiplyAlpha",n.data[0]<60||n.data[0]>70),o)e.addColorStop(a,o[a]);t.fillStyle=e,t.fillRect(0,0,1,256),this.set("gradient",t.getImageData(0,0,1,256).data)},getWidth:function(t){var e=t.offsetWidth;return t.style.paddingLeft&&(e+=t.style.paddingLeft),t.style.paddingRight&&(e+=t.style.paddingRight),e},getHeight:function(t){var e=t.offsetHeight;return t.style.paddingTop&&(e+=t.style.paddingTop),t.style.paddingBottom&&(e+=t.style.paddingBottom),e},colorize:function(t,e){var n,i,o,a,s,r,l,c,p,d=this,h=d.get("width"),u=d.get("radius"),m=d.get("height"),g=d.get("actx"),f=d.get("ctx"),y=3*u,v=d.get("premultiplyAlpha"),_=d.get("gradient"),b=d.get("opacity"),x=d.get("bounds");null!=t&&null!=e?(t+y>h&&(t=h-y),t<0&&(t=0),e<0&&(e=0),e+y>m&&(e=m-y),n=t,i=e,a=t+y,o=e+y):(n=x.l<0?0:x.l,a=x.r>h?h:x.r,i=x.t<0?0:x.t,o=x.b>m?m:x.b),r=(s=g.getImageData(n,i,a-n,o-i)).data.length;for(var w=3;w<r;w+=4)(c=4*(l=s.data[w]))&&(p=l<b?l:b,s.data[w-3]=_[c],s.data[w-2]=_[c+1],s.data[w-1]=_[c+2],v&&(s.data[w-3]/=255/p,s.data[w-2]/=255/p,s.data[w-1]/=255/p),s.data[w]=p);f.putImageData(s,n,i)},drawAlpha:function(t,e,n,i){var o=this,a=o.get("radius"),s=o.get("actx"),r=(o.get("max"),o.get("bounds")),l=t-1.5*a>>0,c=e-1.5*a>>0,p=t+1.5*a>>0,d=e+1.5*a>>0;s.shadowColor="rgba(0,0,0,"+(n?n/o.store.max:"0.1")+")",s.shadowOffsetX=15e3,s.shadowOffsetY=15e3,s.shadowBlur=15,s.beginPath(),s.arc(t-15e3,e-15e3,a,0,2*Math.PI,!0),s.closePath(),s.fill(),i?o.colorize(l,c):(l<r.l&&(r.l=l),c<r.t&&(r.t=c),p>r.r&&(r.r=p),d>r.b&&(r.b=d))},toggleDisplay:function(){var t=this.get("visible"),e=this.get("canvas");e.style.display=t?"none":"block",this.set("visible",!t)},getImageData:function(){return this.get("canvas").toDataURL()},clear:function(){var t=this,e=t.get("width"),n=t.get("height");t.store.set("data",[]),t.get("ctx").clearRect(0,0,e,n),t.get("actx").clearRect(0,0,e,n)},cleanup:function(){this.get("element").removeChild(this.get("canvas"))}},{create:function(t){return new n(t)},util:{mousePosition:function(t){var e,n;if(t.layerX?(e=t.layerX,n=t.layerY):t.offsetX&&(e=t.offsetX,n=t.offsetY),void 0!==e)return[e,n]}}}}(),e=function(t){try{BMap}catch(t){throw Error("Baidu Map JS API is not ready yet!")}if(!e._isExtended){e._isExtended=!0,function(t,e,n){var i,o,a=t.prototype,s=new Function;for(i in s.prototype=e.prototype,o=t.prototype=new s,a)o[i]=a[i];t.prototype.constructor=t,t.superClass=e.prototype,"string"==typeof n&&(o._className=n)}(e,BMap.Overlay,"HeatmapOverlay");var n=new e(t);this.__proto__=n.__proto__}this.conf=t,this.heatmap=null,this.latlngs=[],this.bounds=null,this._moveendHandler=this._moveendHandler.bind(this)};return e.prototype.initialize=function(e){this._map=e;var n=document.createElement("div");return n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.border=0,n.style.width=this._map.getSize().width+"px",n.style.height=this._map.getSize().height+"px",this.conf.element=n,e.getPanes().mapPane.appendChild(n),this.heatmap=t.create(this.conf),this._div=n,n},e.prototype.draw=function(){var t=this._map.getBounds();if(!t.equals(this.bounds)){this.bounds=t;var e=this._map.pointToOverlayPixel(t.getNorthEast()),n=this._map.pointToOverlayPixel(t.getSouthWest());if(e&&n){var i=e.y,o=n.x,a=n.y-e.y,s=e.x-n.x;if(this.conf.element.style.left=o+"px",this.conf.element.style.top=i+"px",this.conf.element.style.width=s+"px",this.conf.element.style.height=a+"px",this.heatmap.store.get("heatmap").resize(),this.latlngs.length>0){this.heatmap.clear();for(var r=this.latlngs.length,l={max:this.heatmap.store.max,data:[]};r--;){var c=this.latlngs[r].latlng;if(t.containsPoint(c)){var p=this._map.pointToOverlayPixel(c),d=new BMap.Pixel(p.x-o,p.y-i),h=this.pixelTransform(d);l.data.push({x:h.x,y:h.y,count:this.latlngs[r].c})}}this.heatmap.store.setDataSet(l)}}}},e.prototype.pixelTransform=function(t){for(var e=this.heatmap.get("width"),n=this.heatmap.get("height");t.x<0;)t.x+=e;for(;t.x>e;)t.x-=e;for(;t.y<0;)t.y+=n;for(;t.y>n;)t.y-=n;return t.x=t.x>>0,t.y=t.y>>0,t},e.prototype._moveendHandler=function(t){this.setDataSet(this._data),delete this._data,this._map.removeEventListener("moveend",this._moveendHandler)},e.prototype.setDataSet=function(t){if(this._map){var e=this._map.getBounds(),n=this._map.pointToOverlayPixel(e.getNorthEast()),i=this._map.pointToOverlayPixel(e.getSouthWest());n&&i||(this._data=t,this._map.addEventListener("moveend",this._moveendHandler));var o={max:t.max,data:[]},a=t.data,s=a.length;for(this.latlngs=[];s--;){var r=new BMap.Point(a[s].lng,a[s].lat);if(this.latlngs.push({latlng:r,c:a[s].count}),e.containsPoint(r)){var l=this._map.pointToOverlayPixel(r),c=this._map.pointToOverlayPixel(e.getSouthWest()).x,p=this._map.pointToOverlayPixel(e.getNorthEast()).y,d=new BMap.Pixel(l.x-c,l.y-p),h=this.pixelTransform(d);o.data.push({x:h.x,y:h.y,count:a[s].count})}}this.heatmap.clear(),this.heatmap.store.setDataSet(o)}},e.prototype.addDataPoint=function(t,e,n){var i=new BMap.Point(t,e),o=this.pixelTransform(this._map.pointToOverlayPixel(i));this.heatmap.store.addDataPoint(o.x,o.y,n),this.latlngs.push({latlng:i,c:n})},e.prototype.toggle=function(){this.heatmap.toggleDisplay()},e},t.exports=i()},function(t,e,n){var i;i=function(){var t,e={};e.dom={},e.dom.g=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):t&&t.nodeName&&(1==t.nodeType||9==t.nodeType)?t:null},e.g=e.G=e.dom.g,e.lang=e.lang||{},e.lang.isString=function(t){return"[object String]"==Object.prototype.toString.call(t)},e.isString=e.lang.isString,e.dom._g=function(t){return e.lang.isString(t)?document.getElementById(t):t},e._g=e.dom._g,e.dom.getDocument=function(t){return 9==(t=e.dom.g(t)).nodeType?t:t.ownerDocument||t.document},e.browser=e.browser||{},e.browser.ie=e.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0,e.dom.getComputedStyle=function(t,n){t=e.dom._g(t);var i,o=e.dom.getDocument(t);return o.defaultView&&o.defaultView.getComputedStyle&&(i=o.defaultView.getComputedStyle(t,null))?i[n]||i.getPropertyValue(n):""},e.dom._styleFixer=e.dom._styleFixer||{},e.dom._styleFilter=e.dom._styleFilter||[],e.dom._styleFilter.filter=function(t,n,i){for(var o,a=0,s=e.dom._styleFilter;o=s[a];a++)(o=o[i])&&(n=o(t,n));return n},e.string=e.string||{},e.string.toCamelCase=function(t){return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,function(t){return t.charAt(1).toUpperCase()})},e.dom.getStyle=function(t,n){var i=e.dom;t=i.g(t),n=e.string.toCamelCase(n);var o=t.style[n]||(t.currentStyle?t.currentStyle[n]:"")||i.getComputedStyle(t,n);if(!o){var a=i._styleFixer[n];a&&(o=a.get?a.get(t):e.dom.getStyle(t,a))}return(a=i._styleFilter)&&(o=a.filter(n,o,"get")),o},e.getStyle=e.dom.getStyle,e.dom._NAME_ATTRS=(t={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"},e.browser.ie<8?(t.for="htmlFor",t.class="className"):(t.htmlFor="for",t.className="class"),t),e.dom.setAttr=function(t,n,i){return t=e.dom.g(t),"style"==n?t.style.cssText=i:(n=e.dom._NAME_ATTRS[n]||n,t.setAttribute(n,i)),t},e.setAttr=e.dom.setAttr,e.dom.setAttrs=function(t,n){for(var i in t=e.dom.g(t),n)e.dom.setAttr(t,i,n[i]);return t},e.setAttrs=e.dom.setAttrs,e.dom.create=function(t,n){var i=document.createElement(t),o=n||{};return e.dom.setAttrs(i,o)},e.object=e.object||{},e.extend=e.object.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};var n=function(t,e,n){try{BMap}catch(t){throw Error("Baidu Map JS API is not ready yet!")}!e||e.length<1||(this._map=t,this._path=e,this.i=0,this._setTimeoutQuene=[],this._projection=this._map.getMapType().getProjection(),this._opts={icon:null,speed:4e3,defaultContent:"",showInfoWindow:!1},this._setOptions(n),this._rotation=0,!this._opts.icon instanceof BMap.Icon&&(this._opts.icon=defaultIcon))};function i(t,e){this._point=t,this._html=e}return n.prototype._setOptions=function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&(this._opts[e]=t[e])},n.prototype.start=function(){var t=this,e=t._path.length;if(this._opts.onstart&&this._opts.onstart(t),t.i&&t.i<e-1){if(!t._fromPause)return;t._fromStop||t._moveNext(++t.i)}else!t._marker&&t._addMarker(),t._timeoutFlag=setTimeout(function(){!t._overlay&&t._addInfoWin(),t._moveNext(t.i)},400);this._fromPause=!1,this._fromStop=!1},n.prototype.stop=function(){this.i=0,this._fromStop=!0,clearInterval(this._intervalFlag),this._clearTimeout();for(var t=0,e=this._opts.landmarkPois,n=e.length;t<n;t++)e[t].bShow=!1;this._opts.onstop&&this._opts.onstop(this)},n.prototype.pause=function(){clearInterval(this._intervalFlag),this._fromPause=!0,this._clearTimeout(),this._opts.onpause&&this._opts.onpause(this)},n.prototype.hideInfoWindow=function(){this._opts.showInfoWindow=!1,this._overlay&&(this._overlay._div.style.visibility="hidden")},n.prototype.showInfoWindow=function(){this._opts.showInfoWindow=!0,this._overlay&&(this._overlay._div.style.visibility="visible")},n.prototype.dispose=function(){clearInterval(this._intervalFlag),this._setTimeoutQuene&&this._clearTimeout(),this._map&&(this._map.removeOverlay(this._overlay),this._map.removeOverlay(this._marker))},e.object.extend(n.prototype,{_addMarker:function(t){this._marker&&(this.stop(),this._map.removeOverlay(this._marker),clearTimeout(this._timeoutFlag)),this._overlay&&this._map.removeOverlay(this._overlay);var e=new BMap.Marker(this._path[0]);this._opts.icon&&e.setIcon(this._opts.icon),this._map.addOverlay(e),e.setAnimation(BMAP_ANIMATION_DROP),this._marker=e},_addInfoWin:function(){!i.prototype.initialize&&(i.prototype=new BMap.Overlay,i.prototype.initialize=function(t){var n=this._div=e.dom.create("div",{style:"border:solid 1px #ccc;width:auto;min-width:50px;text-align:center;position:absolute;background:#fff;color:#000;font-size:12px;border-radius: 10px;padding:5px;white-space: nowrap;"});return n.innerHTML=this._html,t.getPanes().floatPane.appendChild(n),this._map=t,n},i.prototype.draw=function(){this.setPosition(this.lushuMain._marker.getPosition(),this.lushuMain._marker.getIcon().size)},e.object.extend(i.prototype,{setPosition:function(t,n){var i=this._map.pointToOverlayPixel(t),o=e.dom.getStyle(this._div,"width"),a=e.dom.getStyle(this._div,"height"),s=parseInt(this._div.clientWidth||o,10);parseInt(this._div.clientHeight||a,10),this._div.style.left=i.x-s/2+"px",this._div.style.bottom=-(i.y-n.height)+"px"},setHtml:function(t){this._div.innerHTML=t},setRelatedClass:function(t){this.lushuMain=t}}));var t=new i(this._marker.getPosition(),this._opts.defaultContent);t.setRelatedClass(this),this._overlay=t,this._map.addOverlay(t),this._opts.showInfoWindow?this.showInfoWindow():this.hideInfoWindow()},_getMercator:function(t){return this._map.getMapType().getProjection().lngLatToPoint(t)},_getDistance:function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},_move:function(t,e,n){var i=this,o=0,a=this._opts.speed/100,s=this._projection.lngLatToPoint(t),r=this._projection.lngLatToPoint(e),l=Math.round(i._getDistance(s,r)/a);l<1?i._moveNext(++i.i):i._intervalFlag=setInterval(function(){if(o>=l){if(clearInterval(i._intervalFlag),i.i>i._path.length)return;i._moveNext(++i.i)}else{o++;var a=n(s.x,r.x,o,l),c=n(s.y,r.y,o,l),p=i._projection.pointToLngLat(new BMap.Pixel(a,c));if(1==o){var d=null;i.i-1>=0&&(d=i._path[i.i-1]),1==i._opts.enableRotation&&i.setRotation(d,t,e),i._opts.autoView&&(i._map.getBounds().containsPoint(p)||i._map.setCenter(p))}i._marker.setPosition(p),i._setInfoWin(p)}},10)},setRotation:function(t,e,n){var i=0;if(e=this._map.pointToPixel(e),(n=this._map.pointToPixel(n)).x!=e.x){var o=(n.y-e.y)/(n.x-e.x);i=360*Math.atan(o)/(2*Math.PI),i=n.x<e.x?90-i+90:-i,this._marker.setRotation(-i)}else{var a=0;a=n.y-e.y>0?-1:1,this._marker.setRotation(90*-a)}},linePixellength:function(t,e){return Math.sqrt(Math.abs(t.x-e.x)*Math.abs(t.x-e.x)+Math.abs(t.y-e.y)*Math.abs(t.y-e.y))},pointToPoint:function(t,e){return Math.abs(t.x-e.x)*Math.abs(t.x-e.x)+Math.abs(t.y-e.y)*Math.abs(t.y-e.y)},_moveNext:function(t){var e=this;t<this._path.length-1?e._move(e._path[t],e._path[t+1],e._tween.linear):e.stop()},_setInfoWin:function(t){var e=this;e._overlay.setPosition(t,e._marker.getIcon().size);var n=e._troughPointIndex(t);-1!=n?(clearInterval(e._intervalFlag),e._overlay.setHtml(e._opts.landmarkPois[n].html),e._overlay.setPosition(t,e._marker.getIcon().size),e._pauseForView(n)):e._overlay.setHtml(e._opts.defaultContent)},_pauseForView:function(t){var e=this,n=setTimeout(function(){e._moveNext(++e.i)},1e3*e._opts.landmarkPois[t].pauseTime);e._setTimeoutQuene.push(n)},_clearTimeout:function(){for(var t in this._setTimeoutQuene)clearTimeout(this._setTimeoutQuene[t]);this._setTimeoutQuene.length=0},_tween:{linear:function(t,e,n,i){return(e-t)*n/i+t}},_troughPointIndex:function(t){for(var e=this._opts.landmarkPois,n=0,i=e.length;n<i;n++)if(!e[n].bShow&&this._map.getDistance(new BMap.Point(e[n].lng,e[n].lat),t)<10)return e[n].bShow=!0,n;return-1}}),n},t.exports=i()},function(t,e,n){(function(e){var i,o,a;a=function(){"use strict";var t="undefined"!=typeof window?window:void 0!==e?e:this;var a,s=(function(t,e,a){var s;s=function(){var t,e,n=t=n||{version:"1.3.8"},i={};n.guid="$BAIDU$",i[n.guid]=i[n.guid]||{},n.dom=n.dom||{},n.dom.g=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):t&&t.nodeName&&(1==t.nodeType||9==t.nodeType)?t:null},n.g=n.G=n.dom.g,n.dom.getDocument=function(t){return 9==(t=n.dom.g(t)).nodeType?t:t.ownerDocument||t.document},n.lang=n.lang||{},n.lang.isString=function(t){return"[object String]"==Object.prototype.toString.call(t)},n.isString=n.lang.isString,n.dom._g=function(t){return n.lang.isString(t)?document.getElementById(t):t},n._g=n.dom._g,n.browser=n.browser||{},/msie (\d+\.\d)/i.test(navigator.userAgent)&&(n.browser.ie=n.ie=document.documentMode||+RegExp.$1),n.dom.getComputedStyle=function(t,e){t=n.dom._g(t);var i,o=n.dom.getDocument(t);return o.defaultView&&o.defaultView.getComputedStyle&&(i=o.defaultView.getComputedStyle(t,null))?i[e]||i.getPropertyValue(e):""},n.dom._styleFixer=n.dom._styleFixer||{},n.dom._styleFilter=n.dom._styleFilter||[],n.dom._styleFilter.filter=function(t,e,i){for(var o,a=0,s=n.dom._styleFilter;o=s[a];a++)(o=o[i])&&(e=o(t,e));return e},n.string=n.string||{},n.string.toCamelCase=function(t){return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,function(t){return t.charAt(1).toUpperCase()})},n.dom.getStyle=function(t,e){var i=n.dom;t=i.g(t),e=n.string.toCamelCase(e);var o=t.style[e]||(t.currentStyle?t.currentStyle[e]:"")||i.getComputedStyle(t,e);if(!o){var a=i._styleFixer[e];a&&(o=a.get?a.get(t):n.dom.getStyle(t,a))}return(a=i._styleFilter)&&(o=a.filter(e,o,"get")),o},n.getStyle=n.dom.getStyle,/opera\/(\d+\.\d)/i.test(navigator.userAgent)&&(n.browser.opera=+RegExp.$1),n.browser.isWebkit=/webkit/i.test(navigator.userAgent),n.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),n.browser.isStrict="CSS1Compat"==document.compatMode,n.dom.getPosition=function(t){t=n.dom.g(t);var e,i,o=n.dom.getDocument(t),a=n.browser,s=n.dom.getStyle,r=(a.isGecko>0&&o.getBoxObjectFor&&"absolute"==s(t,"position")&&(""===t.style.top||t.style.left),{left:0,top:0});if(t==(a.ie&&!a.isStrict?o.body:o.documentElement))return r;if(t.getBoundingClientRect){i=t.getBoundingClientRect(),r.left=Math.floor(i.left)+Math.max(o.documentElement.scrollLeft,o.body.scrollLeft),r.top=Math.floor(i.top)+Math.max(o.documentElement.scrollTop,o.body.scrollTop),r.left-=o.documentElement.clientLeft,r.top-=o.documentElement.clientTop;var l=o.body,c=parseInt(s(l,"borderLeftWidth")),p=parseInt(s(l,"borderTopWidth"));a.ie&&!a.isStrict&&(r.left-=isNaN(c)?2:c,r.top-=isNaN(p)?2:p)}else{e=t;do{if(r.left+=e.offsetLeft,r.top+=e.offsetTop,a.isWebkit>0&&"fixed"==s(e,"position")){r.left+=o.body.scrollLeft,r.top+=o.body.scrollTop;break}e=e.offsetParent}while(e&&e!=t);for((a.opera>0||a.isWebkit>0&&"absolute"==s(t,"position"))&&(r.top-=o.body.offsetTop),e=t.offsetParent;e&&e!=o.body;)r.left-=e.scrollLeft,a.opera&&"TR"==e.tagName||(r.top-=e.scrollTop),e=e.offsetParent}return r},n.event=n.event||{},n.event._listeners=n.event._listeners||[],n.event.on=function(t,e,i){e=e.replace(/^on/i,""),t=n.dom._g(t);var o,a=function(e){i.call(t,e)},s=n.event._listeners,r=n.event._eventFilter,l=e;return e=e.toLowerCase(),r&&r[e]&&(l=(o=r[e](t,e,a)).type,a=o.listener),t.addEventListener?t.addEventListener(l,a,!1):t.attachEvent&&t.attachEvent("on"+l,a),s[s.length]=[t,e,i,a,l],t},n.on=n.event.on,e=i[n.guid],n.lang.guid=function(){return"TANGRAM__"+(e._counter++).toString(36)},e._counter=e._counter||1,i[n.guid]._instances=i[n.guid]._instances||{},n.lang.isFunction=function(t){return"[object Function]"==Object.prototype.toString.call(t)},n.lang.Class=function(t){this.guid=t||n.lang.guid(),i[n.guid]._instances[this.guid]=this},i[n.guid]._instances=i[n.guid]._instances||{},n.lang.Class.prototype.dispose=function(){for(var t in delete i[n.guid]._instances[this.guid],this)n.lang.isFunction(this[t])||delete this[t];this.disposed=!0},n.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"},n.lang.Event=function(t,e){this.type=t,this.returnValue=!0,this.target=e||null,this.currentTarget=null},n.lang.Class.prototype.addEventListener=function(t,e,i){if(n.lang.isFunction(e)){!this.__listeners&&(this.__listeners={});var o,a=this.__listeners;if("string"==typeof i&&i){if(/[^\w\-]/.test(i))throw"nonstandard key:"+i;e.hashCode=i,o=i}0!=t.indexOf("on")&&(t="on"+t),"object"!=typeof a[t]&&(a[t]={}),o=o||n.lang.guid(),e.hashCode=o,a[t][o]=e}},n.lang.Class.prototype.removeEventListener=function(t,e){if(void 0===e||(!n.lang.isFunction(e)||(e=e.hashCode))&&n.lang.isString(e)){!this.__listeners&&(this.__listeners={}),0!=t.indexOf("on")&&(t="on"+t);var i=this.__listeners;if(i[t])if(void 0!==e)i[t][e]&&delete i[t][e];else for(var o in i[t])delete i[t][o]}},n.lang.Class.prototype.dispatchEvent=function(t,e){for(var i in n.lang.isString(t)&&(t=new n.lang.Event(t)),!this.__listeners&&(this.__listeners={}),e=e||{})t[i]=e[i];var o=this.__listeners,a=t.type;if(t.target=t.target||this,t.currentTarget=this,0!=a.indexOf("on")&&(a="on"+a),n.lang.isFunction(this[a])&&this[a].apply(this,arguments),"object"==typeof o[a])for(i in o[a])o[a][i].apply(this,arguments);return t.returnValue},n.lang.inherits=function(t,e,n){var i,o,a=t.prototype,s=new Function;for(i in s.prototype=e.prototype,o=t.prototype=new s,a)o[i]=a[i];t.prototype.constructor=t,t.superClass=e.prototype,"string"==typeof n&&(o._className=n)},n.inherits=n.lang.inherits;var o=function(e,n,i){try{BMap}catch(t){throw Error("Baidu Map JS API is not ready yet!")}t.lang.inherits(o,BMap.Overlay,"TextIconOverlay"),this._position=e,this._text=n,this._options=i||{},this._styles=this._options.styles||[],!this._styles.length&&this._setupDefaultStyles()};return o.prototype._setupDefaultStyles=function(){for(var t,e=[53,56,66,78,90],n=0;t=e[n];n++)this._styles.push({url:"http://api.map.baidu.com/library/TextIconOverlay/1.2/src/images/m"+n+".png",size:new BMap.Size(t,t)})},o.prototype.initialize=function(t){return this._map=t,this._domElement=document.createElement("div"),this._updateCss(),this._updateText(),this._updatePosition(),this._bind(),this._map.getPanes().markerMouseTarget.appendChild(this._domElement),this._domElement},o.prototype.draw=function(){this._map&&this._updatePosition()},o.prototype.getText=function(){return this._text},o.prototype.setText=function(t){!t||this._text&&this._text.toString()==t.toString()||(this._text=t,this._updateText(),this._updateCss(),this._updatePosition())},o.prototype.getPosition=function(){return this._position},o.prototype.setPosition=function(t){!t||this._position&&this._position.equals(t)||(this._position=t,this._updatePosition())},o.prototype.getStyleByText=function(t,e){var n=parseInt(t),i=parseInt(n/10);return i=Math.max(0,i),e[i=Math.min(i,e.length-1)]},o.prototype._updateCss=function(){if(this._domElement){var t=this.getStyleByText(this._text,this._styles);this._domElement.style.cssText=this._buildCssText(t)}},o.prototype._updateText=function(){this._domElement&&(this._domElement.innerHTML=this._text)},o.prototype._updatePosition=function(){if(this._domElement&&this._position){var t=this._domElement.style,e=this._map.pointToOverlayPixel(this._position);e.x-=Math.ceil(parseInt(t.width)/2),e.y-=Math.ceil(parseInt(t.height)/2),t.left=e.x+"px",t.top=e.y+"px"}},o.prototype._buildCssText=function(e){var n=e.url,i=e.size,o=e.anchor,a=e.offset,s=e.textColor||"black",r=e.textSize||10,l=[];if(t.browser.ie<7)l.push('filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="'+n+'");');else{l.push("background-image:url("+n+");");var c="0 0";a instanceof BMap.Size&&(c=a.width+"px "+a.height+"px"),l.push("background-position:"+c+";")}return i instanceof BMap.Size&&(o instanceof BMap.Size?(o.height>0&&o.height<i.height&&l.push("height:"+(i.height-o.height)+"px; padding-top:"+o.height+"px;"),o.width>0&&o.width<i.width&&l.push("width:"+(i.width-o.width)+"px; padding-left:"+o.width+"px;")):(l.push("height:"+i.height+"px; line-height:"+i.height+"px;"),l.push("width:"+i.width+"px; text-align:center;"))),l.push("cursor:pointer; color:"+s+"; position:absolute; font-size:"+r+"px; font-family:Arial,sans-serif; font-weight:bold"),l.join("")},o.prototype._bind=function(){if(this._domElement){var e=this,n=this._map,i=t.lang.Event;t.event.on(this._domElement,"mouseover",function(t){e.dispatchEvent(o(t,new i("onmouseover")))}),t.event.on(this._domElement,"mouseout",function(t){e.dispatchEvent(o(t,new i("onmouseout")))}),t.event.on(this._domElement,"click",function(t){e.dispatchEvent(o(t,new i("onclick")))})}function o(e,i){var o=e.srcElement||e.target,a=e.clientX||e.pageX,s=e.clientY||e.pageY;if(e&&i&&a&&s&&o){var r=t.dom.getPosition(n.getContainer());i.pixel=new BMap.Pixel(a-r.left,s-r.top),i.point=n.pixelToPoint(i.pixel)}return i}},o},"object"==typeof e?t.exports=s():void 0===(o="function"==typeof(i=s)?i.call(e,n,e,t):i)||(t.exports=o)}(a={exports:{}},a.exports,t),a.exports),r=s&&"object"==typeof s&&"default"in s?s.default:s,l=function(t,e,n){e=c(e);var i=t.pointToPixel(e.getNorthEast()),o=t.pointToPixel(e.getSouthWest());i.x+=n,i.y-=n,o.x-=n,o.y+=n;var a=t.pixelToPoint(i),s=t.pixelToPoint(o);return new BMap.Bounds(s,a)},c=function(t){var e=p(t.getNorthEast().lng,-180,180),n=p(t.getSouthWest().lng,-180,180),i=p(t.getNorthEast().lat,-74,74),o=p(t.getSouthWest().lat,-74,74);return new BMap.Bounds(new BMap.Point(n,o),new BMap.Point(e,i))},p=function(t,e,n){return e&&(t=Math.max(t,e)),n&&(t=Math.min(t,n)),t},d=function(t){return"[object Array]"===Object.prototype.toString.call(t)},h=function(t,e){var n=-1;if(d(e))if(e.indexOf)n=e.indexOf(t);else for(var i,o=0;i=e[o];o++)if(i===t){n=o;break}return n},u=function(t,e){try{BMap}catch(t){throw Error("Baidu Map JS API is not ready yet!")}if(t){this._map=t,this._markers=[],this._clusters=[];var n=e||{};this._gridSize=n.gridSize||60,this._maxZoom=n.maxZoom||18,this._minClusterSize=n.minClusterSize||2,this._isAverageCenter=!1,void 0!=n.isAverageCenter&&(this._isAverageCenter=n.isAverageCenter),this._styles=n.styles||[];var i=this;this._map.addEventListener("zoomend",function(){i._redraw()}),this._map.addEventListener("moveend",function(){i._redraw()});var o=n.markers;d(o)&&this.addMarkers(o)}};function m(t){this._markerClusterer=t,this._map=t.getMap(),this._minClusterSize=t.getMinClusterSize(),this._isAverageCenter=t.isAverageCenter(),this._center=null,this._markers=[],this._gridBounds=null,this._isReal=!1,this._clusterMarker=new r(this._center,this._markers.length,{styles:this._markerClusterer.getStyles()})}return u.prototype.addMarkers=function(t){if(t.length){for(var e=0,n=t.length;e<n;e++)this._pushMarkerTo(t[e]);this._createClusters()}},u.prototype._pushMarkerTo=function(t){-1===h(t,this._markers)&&(t.isInCluster=!1,this._markers.push(t))},u.prototype.addMarker=function(t){this._pushMarkerTo(t),this._createClusters()},u.prototype._createClusters=function(){var t=this._map.getBounds();if(t.getCenter())for(var e,n=l(this._map,t,this._gridSize),i=0;e=this._markers[i];i++)!e.isInCluster&&n.containsPoint(e.getPosition())&&this._addToClosestCluster(e)},u.prototype._addToClosestCluster=function(t){for(var e,n=4e6,i=null,o=(t.getPosition(),0);e=this._clusters[o];o++){var a=e.getCenter();if(a){var s=this._map.getDistance(a,t.getPosition());s<n&&(n=s,i=e)}}i&&i.isMarkerInClusterBounds(t)?i.addMarker(t):((e=new m(this)).addMarker(t),this._clusters.push(e))},u.prototype._clearLastClusters=function(){for(var t,e=0;t=this._clusters[e];e++)t.remove();this._clusters=[],this._removeMarkersFromCluster()},u.prototype._removeMarkersFromCluster=function(){for(var t,e=0;t=this._markers[e];e++)t.isInCluster=!1},u.prototype._removeMarkersFromMap=function(){for(var t,e=0;t=this._markers[e];e++){t.isInCluster=!1;var n=t.getLabel();this._map.removeOverlay(t),t.setLabel(n)}},u.prototype._removeMarker=function(t){var e=h(t,this._markers);return-1!==e&&(this._map.removeOverlay(t),this._markers.splice(e,1),!0)},u.prototype.removeMarker=function(t){var e=this._removeMarker(t);return e&&(this._clearLastClusters(),this._createClusters()),e},u.prototype.removeMarkers=function(t){for(var e=!1,n=0;n<t.length;n++){var i=this._removeMarker(t[n]);e=e||i}return e&&(this._clearLastClusters(),this._createClusters()),e},u.prototype.clearMarkers=function(){this._clearLastClusters(),this._removeMarkersFromMap(),this._markers=[]},u.prototype._redraw=function(){this._clearLastClusters(),this._createClusters()},u.prototype.getGridSize=function(){return this._gridSize},u.prototype.setGridSize=function(t){this._gridSize=t,this._redraw()},u.prototype.getMaxZoom=function(){return this._maxZoom},u.prototype.setMaxZoom=function(t){this._maxZoom=t,this._redraw()},u.prototype.getStyles=function(){return this._styles},u.prototype.setStyles=function(t){this._styles=t,this._redraw()},u.prototype.getMinClusterSize=function(){return this._minClusterSize},u.prototype.setMinClusterSize=function(t){this._minClusterSize=t,this._redraw()},u.prototype.isAverageCenter=function(){return this._isAverageCenter},u.prototype.getMap=function(){return this._map},u.prototype.getMarkers=function(){return this._markers},u.prototype.getClustersCount=function(){for(var t,e=0,n=0;t=this._clusters[n];n++)t.isReal()&&e++;return e},m.prototype.addMarker=function(t){if(this.isMarkerInCluster(t))return!1;if(this._center){if(this._isAverageCenter){var e=this._markers.length+1,n=(this._center.lat*(e-1)+t.getPosition().lat)/e,i=(this._center.lng*(e-1)+t.getPosition().lng)/e;this._center=new BMap.Point(i,n),this.updateGridBounds()}}else this._center=t.getPosition(),this.updateGridBounds();t.isInCluster=!0,this._markers.push(t);var o=this._markers.length;if(o<this._minClusterSize)return this._map.addOverlay(t),!0;if(o===this._minClusterSize)for(var a=0;a<o;a++){var s=this._markers[a].getLabel();this._markers[a].getMap()&&this._map.removeOverlay(this._markers[a]),this._markers[a].setLabel(s)}return this._map.addOverlay(this._clusterMarker),this._isReal=!0,this.updateClusterMarker(),!0},m.prototype.isMarkerInCluster=function(t){if(this._markers.indexOf)return-1!=this._markers.indexOf(t);for(var e,n=0;e=this._markers[n];n++)if(e===t)return!0;return!1},m.prototype.isMarkerInClusterBounds=function(t){return this._gridBounds.containsPoint(t.getPosition())},m.prototype.isReal=function(t){return this._isReal},m.prototype.updateGridBounds=function(){var t=new BMap.Bounds(this._center,this._center);this._gridBounds=l(this._map,t,this._markerClusterer.getGridSize())},m.prototype.updateClusterMarker=function(){if(this._map.getZoom()>this._markerClusterer.getMaxZoom()){this._clusterMarker&&this._map.removeOverlay(this._clusterMarker);for(var t,e=0;t=this._markers[e];e++)this._map.addOverlay(t)}else this._markers.length<this._minClusterSize?this._clusterMarker.hide():(this._clusterMarker.setPosition(this._center),this._clusterMarker.setText(this._markers.length),this._clusterMarker.addEventListener&&!this._clusterMarker._hasClickEvent&&this._clusterMarker.addEventListener("click",function(t){this._clusterMarker._hasClickEvent=!0,this._markers&&this._map.setViewport(this.getBounds())}.bind(this)))},m.prototype.remove=function(){for(var t=0;this._markers[t];t++){var e=this._markers[t].getLabel();this._markers[t].getMap()&&this._map.removeOverlay(this._markers[t]),this._markers[t].setLabel(e)}this._map.removeOverlay(this._clusterMarker),this._markers.length=0,delete this._markers},m.prototype.getBounds=function(){for(var t,e=new BMap.Bounds(this._center,this._center),n=0;t=this._markers[n];n++)e.extend(t.getPosition());return e},m.prototype.getCenter=function(){return this._center},u},t.exports=a()}).call(e,n(3))},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.panel,expression:"panel"}]},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("span",[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.paths.length?n("div",t._l(t.paths,function(e,i){return n("bm-polygon",{key:i,attrs:{path:e,"stroke-color":t.strokeColor,"stroke-weight":t.strokeWeight,"stroke-opacity":t.strokeOpacity,"stroke-style":t.strokeStyle,"fill-opacity":t.fillOpacity,"fill-color":t.fillColor,"mass-clear":t.massClear,clicking:t.clicking},on:{click:function(e){return t.$emit("click",e)},dblclick:function(e){return t.$emit("dblclick",e)},mousedown:function(e){return t.$emit("mousedown",e)},mouseup:function(e){return t.$emit("mouseup",e)},mouseout:function(e){return t.$emit("mouseout",e)},mouseover:function(e){return t.$emit("mouseover",e)},remove:function(e){return t.$emit("remove",e)}}})}),1):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.panel,expression:"panel"}]})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._t("default",[e("input")])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.panel,expression:"panel"}]},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.panel,expression:"panel"}]},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}]},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.hasBmView?this._e():e("div",{ref:"view",staticStyle:{width:"100%",height:"100%"}}),this._v(" "),this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.panel,expression:"panel"}]},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("span",[this._t("default")],2)},staticRenderFns:[]}}])});